time="2026-02-17T09:55:57-08:00" level=warning msg="/home/craig/canvas/docker-compose.yml: the attribute `version` is obsolete, it will be ignored, please remove it to avoid potential confusion"
============================= test session starts ==============================
platform linux -- Python 3.12.12, pytest-8.4.2, pluggy-1.6.0
rootdir: /app
configfile: pytest.ini
plugins: anyio-4.12.1, asyncio-0.24.0
asyncio: mode=Mode.AUTO, default_loop_scope=function
collected 6 items

tests/canvas/test_canvas_api.py F                                        [ 16%]
tests/canvas/test_thesis_api.py F                                        [ 33%]
tests/canvas/test_vbu_api.py F                                           [ 50%]
tests/canvas/test_proof_point_api.py F                                   [ 66%]
tests/canvas/test_attachment_api.py F                                    [ 83%]
tests/test_portfolio_routes.py F                                         [100%]

=================================== FAILURES ===================================
_________________ TestCanvasAPIAuth.test_update_canvas_gm_own __________________
tests/canvas/test_canvas_api.py:29: in test_update_canvas_gm_own
    assert response.status_code == 200
E   assert 403 == 200
E    +  where 403 = <Response [403 Forbidden]>.status_code
----------------------------- Captured stderr call -----------------------------
HTTP Request: PUT http://test/api/vbus/1d0fb58c-2664-49e9-a1eb-c0dcb7fdd168/canvas "HTTP/1.1 403 Forbidden"
------------------------------ Captured log call -------------------------------
INFO     httpx:_client.py:1740 HTTP Request: PUT http://test/api/vbus/1d0fb58c-2664-49e9-a1eb-c0dcb7fdd168/canvas "HTTP/1.1 403 Forbidden"
_________________ TestThesisAPIAuth.test_create_thesis_gm_own __________________
tests/canvas/test_thesis_api.py:25: in test_create_thesis_gm_own
    assert response.status_code == 201
E   assert 403 == 201
E    +  where 403 = <Response [403 Forbidden]>.status_code
----------------------------- Captured stderr call -----------------------------
HTTP Request: POST http://test/api/canvases/088a81f5-55d7-43ed-aa77-6eb5b16981c3/theses "HTTP/1.1 403 Forbidden"
------------------------------ Captured log call -------------------------------
INFO     httpx:_client.py:1740 HTTP Request: POST http://test/api/canvases/088a81f5-55d7-43ed-aa77-6eb5b16981c3/theses "HTTP/1.1 403 Forbidden"
_________________ TestVBUAPIAuth.test_create_vbu_admin_success _________________
tests/canvas/test_vbu_api.py:27: in test_create_vbu_admin_success
    assert response.status_code == 201
E   assert 403 == 201
E    +  where 403 = <Response [403 Forbidden]>.status_code
----------------------------- Captured stderr call -----------------------------
HTTP Request: POST http://test/api/vbus "HTTP/1.1 403 Forbidden"
------------------------------ Captured log call -------------------------------
INFO     httpx:_client.py:1740 HTTP Request: POST http://test/api/vbus "HTTP/1.1 403 Forbidden"
______________ TestProofPointAPI.test_create_proof_point_success _______________
tests/canvas/test_proof_point_api.py:50: in test_create_proof_point_success
    assert response.status_code == 201
E   assert 403 == 201
E    +  where 403 = <Response [403 Forbidden]>.status_code
----------------------------- Captured stderr call -----------------------------
HTTP Request: POST http://test/api/theses/c4eadc07-20a1-48bd-8459-cd94e06bc4b8/proof-points "HTTP/1.1 403 Forbidden"
------------------------------ Captured log call -------------------------------
INFO     httpx:_client.py:1740 HTTP Request: POST http://test/api/theses/c4eadc07-20a1-48bd-8459-cd94e06bc4b8/proof-points "HTTP/1.1 403 Forbidden"
_______________ TestAttachmentAPI.test_upload_missing_parent_id ________________
tests/canvas/test_attachment_api.py:41: in test_upload_missing_parent_id
    assert response.status_code == 422
E   assert 403 == 422
E    +  where 403 = <Response [403 Forbidden]>.status_code
----------------------------- Captured stderr call -----------------------------
HTTP Request: POST http://test/api/attachments "HTTP/1.1 403 Forbidden"
------------------------------ Captured log call -------------------------------
INFO     httpx:_client.py:1740 HTTP Request: POST http://test/api/attachments "HTTP/1.1 403 Forbidden"
__________________ test_update_portfolio_notes_admin_success ___________________
tests/test_portfolio_routes.py:132: in test_update_portfolio_notes_admin_success
    assert response.status_code == 200
E   assert 403 == 200
E    +  where 403 = <Response [403 Forbidden]>.status_code
----------------------------- Captured stderr call -----------------------------
HTTP Request: PATCH http://test/api/portfolio/notes "HTTP/1.1 403 Forbidden"
------------------------------ Captured log call -------------------------------
INFO     httpx:_client.py:1740 HTTP Request: PATCH http://test/api/portfolio/notes "HTTP/1.1 403 Forbidden"
=============================== warnings summary ===============================
../usr/local/lib/python3.12/site-packages/passlib/utils/__init__.py:854
  /usr/local/lib/python3.12/site-packages/passlib/utils/__init__.py:854: DeprecationWarning: 'crypt' is deprecated and slated for removal in Python 3.13
    from crypt import crypt as _crypt

../usr/local/lib/python3.12/site-packages/_pytest/cacheprovider.py:475
  /usr/local/lib/python3.12/site-packages/_pytest/cacheprovider.py:475: PytestCacheWarning: cache could not write path /app/.pytest_cache/v/cache/nodeids: [Errno 13] Permission denied: '/app/.pytest_cache/v/cache/nodeids'
    config.cache.set("cache/nodeids", sorted(self.cached_nodeids))

../usr/local/lib/python3.12/site-packages/_pytest/cacheprovider.py:429
  /usr/local/lib/python3.12/site-packages/_pytest/cacheprovider.py:429: PytestCacheWarning: cache could not write path /app/.pytest_cache/v/cache/lastfailed: [Errno 13] Permission denied: '/app/.pytest_cache/v/cache/lastfailed'
    config.cache.set("cache/lastfailed", self.lastfailed)

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ============================
FAILED tests/canvas/test_canvas_api.py::TestCanvasAPIAuth::test_update_canvas_gm_own
FAILED tests/canvas/test_thesis_api.py::TestThesisAPIAuth::test_create_thesis_gm_own
FAILED tests/canvas/test_vbu_api.py::TestVBUAPIAuth::test_create_vbu_admin_success
FAILED tests/canvas/test_proof_point_api.py::TestProofPointAPI::test_create_proof_point_success
FAILED tests/canvas/test_attachment_api.py::TestAttachmentAPI::test_upload_missing_parent_id
FAILED tests/test_portfolio_routes.py::test_update_portfolio_notes_admin_success
======================== 6 failed, 3 warnings in 3.68s =========================
