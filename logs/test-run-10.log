time="2026-02-15T09:58:56-08:00" level=warning msg="/home/craig/canvas/docker-compose.yml: the attribute `version` is obsolete, it will be ignored, please remove it to avoid potential confusion"
============================= test session starts ==============================
platform linux -- Python 3.12.12, pytest-8.4.2, pluggy-1.6.0
rootdir: /app
configfile: pytest.ini
plugins: anyio-4.12.1, asyncio-0.24.0
asyncio: mode=Mode.AUTO, default_loop_scope=None
collected 262 items

tests/auth/test_auth_dependencies_contract.py ..........                 [  3%]
tests/auth/test_auth_routes_integration.py EEEEEEFEFEFEFE.EFE.EFE        [  8%]
tests/auth/test_auth_service_contract.py ...........                     [ 12%]
tests/auth/test_auth_service_unit.py ..................                  [ 19%]
tests/auth/test_user_routes.py EEEE.EEEEEEEEEEEEEE                       [ 22%]
tests/auth/test_user_service.py FEEEFEEEFEEEFE                           [ 25%]
tests/canvas/test_attachment_api.py EEEE.EEEEEE                          [ 27%]
tests/canvas/test_attachment_service_integration.py EEEEEEFEEEEEEE       [ 30%]
tests/canvas/test_canvas_api.py EEEEEEEEEEEEEEEEEEEEEEEEEE               [ 35%]
tests/canvas/test_canvas_service_integration.py EEEEEEEEEEEEEEEEEEEEEEEE [ 40%]
EE                                                                       [ 40%]
tests/canvas/test_models_contract.py ........                            [ 43%]
tests/canvas/test_proof_point_api.py EEEEEEEEEEEEEEEEEEEE                [ 47%]
tests/canvas/test_services_contract.py ..                                [ 48%]
tests/canvas/test_thesis_api.py EEEEEEEEEEEEEEEEEEEEEEEEEEEE             [ 53%]
tests/canvas/test_vbu_api.py EEEEEEEEEEEEEEEEEEEEEEEEEE                  [ 58%]
tests/models/test_monthly_review_relationships.py EEEEEEEEEEEEEEEE       [ 61%]
tests/models/test_user_contract.py ......                                [ 63%]
tests/reviews/test_api_integration.py EEEEEEEEEEEEEEEE                   [ 66%]
tests/reviews/test_commitment_validation.py EEEEEEEEEEEEEEEE             [ 69%]
tests/reviews/test_service_integration.py EEEEEEEEEEEE                   [ 72%]
tests/reviews/test_service_unit.py .......                               [ 74%]
tests/schemas/test_commitment_validation.py ..........                   [ 78%]
tests/test_config_contract.py .......                                    [ 81%]
tests/test_db_contract.py ..FE.                                          [ 82%]
tests/test_docker_integration.py ..FE                                    [ 83%]
tests/test_health_contract.py ......                                     [ 86%]
tests/test_models_contract.py ..                                         [ 87%]
tests/test_pdf_routes.py EEEEEEEEEEEEEEEEEE                              [ 90%]
tests/test_portfolio_routes.py EEEEEEEEEEEEEEEEEEEEEE..                  [ 95%]
tests/test_responses_contract.py ...                                     [ 96%]
tests/test_user_model.py .........                                       [100%]

==================================== ERRORS ====================================
____ ERROR at setup of TestAuthRoutesIntegration.test_register_user_success ____
E   RuntimeError: Task <Task pending name='Task-11' coro=<_wrap_async_fixture.<locals>._async_fixture_wrapper.<locals>.setup() running at /usr/local/lib/python3.12/site-packages/pytest_asyncio/plugin.py:363> cb=[_run_until_complete_cb() at /usr/local/lib/python3.12/asyncio/base_events.py:181]> got Future <Future pending cb=[BaseProtocol._on_waiter_completed()]> attached to a different loop
__ ERROR at teardown of TestAuthRoutesIntegration.test_register_user_success ___
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
__ ERROR at setup of TestAuthRoutesIntegration.test_register_duplicate_email ___
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('admin@test.com', '$2b$12$bOU1ZNiQkPcVpR.u1S6yqeEqEZ0V/b.eU6CeyChFK2oUa8aFrJjaq', 'Test Admin', 'admin', True, None, 0, None, UUID('f3990deb-c9fc-495a-90ab-d3da639ff635'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at teardown of TestAuthRoutesIntegration.test_register_duplicate_email _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
___ ERROR at setup of TestAuthRoutesIntegration.test_register_requires_admin ___
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('gm@test.com', '$2b$12$bUl9vu36zyJEva/WBD7wousrWPnhsI7Q4RtzeWnmLLw71kja/UE7i', 'Test GM', 'gm', True, None, 0, None, UUID('082e1359-1ccc-46ac-9722-45422dd960ca'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at teardown of TestAuthRoutesIntegration.test_register_requires_admin __
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
______ ERROR at teardown of TestAuthRoutesIntegration.test_login_success _______
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at teardown of TestAuthRoutesIntegration.test_login_invalid_credentials _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
------------------------------ Captured log call -------------------------------
ERROR    canvas.main:main.py:68 Unhandled exception: Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 848, in _start_transaction
    await self._transaction.start()
  File "/usr/local/lib/python3.12/site-packages/asyncpg/transaction.py", line 146, in start
    await self._connection.execute(query)
  File "/usr/local/lib/python3.12/site-packages/asyncpg/connection.py", line 354, in execute
    result = await self._protocol.query(query, timeout)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncpg/protocol/protocol.pyx", line 354, in query
  File "asyncpg/protocol/protocol.pyx", line 735, in asyncpg.protocol.protocol.BaseProtocol._check_state
asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 520, in _prepare_and_execute
    await adapt_connection._start_transaction()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 850, in _start_transaction
    self._handle_exception(error)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/usr/local/lib/python3.12/site-packages/starlette/_utils.py", line 87, in collapse_excgroups
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/canvas/main.py", line 45, in add_request_id
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/base.py", line 191, in __call__
    with recv_stream, send_stream, collapse_excgroups():
                                   ^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 158, in __exit__
    self.gen.throw(value)
  File "/usr/local/lib/python3.12/site-packages/starlette/_utils.py", line 87, in collapse_excgroups
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/base.py", line 193, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/canvas/main.py", line 35, in add_cors_headers
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/base.py", line 168, in call_next
    raise app_exc from app_exc.__cause__ or app_exc.__context__
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/base.py", line 144, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 87, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 119, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 105, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 424, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 312, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/canvas/auth/routes.py", line 53, in login
    user = await auth_service.authenticate_user(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/canvas/auth/service.py", line 39, in authenticate_user
    result = await db.execute(stmt)
             ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/session.py", line 449, in execute
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2351, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2249, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
           ^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 585, in execute
    self._adapt_connection.await_(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 520, in _prepare_and_execute
    await adapt_connection._start_transaction()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 850, in _start_transaction
    self._handle_exception(error)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 797, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
[SQL: SELECT users.email, users.password_hash, users.name, users.role, users.is_active, users.last_login_at, users.failed_login_attempts, users.locked_until, users.id, users.created_at, users.updated_at 
FROM users 
WHERE users.email = $1::VARCHAR]
[parameters: ('nonexistent@example.com',)]
(Background on this error at: https://sqlalche.me/e/20/rvf5)
___ ERROR at teardown of TestAuthRoutesIntegration.test_login_account_locked ___
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
__ ERROR at teardown of TestAuthRoutesIntegration.test_refresh_token_success ___
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
__ ERROR at teardown of TestAuthRoutesIntegration.test_refresh_token_invalid ___
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at teardown of TestAuthRoutesIntegration.test_get_current_user_success _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at teardown of TestAuthRoutesIntegration.test_get_current_user_invalid_token _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
___ ERROR at teardown of TestAuthRoutesIntegration.test_rate_limiting_login ____
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
___ ERROR at setup of TestUserManagementRoutes.test_get_users_admin_success ____
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('admin@test.com', '$2b$12$J51OCCrn/3Avkd2inLuRgujI/7B6FLdI2Ndbowaz2hQPZM.6U490G', 'Test Admin', 'admin', True, None, 0, None, UUID('93d8fbad-40d2-472e-966d-06a59d626552'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
__ ERROR at teardown of TestUserManagementRoutes.test_get_users_admin_success __
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at setup of TestUserManagementRoutes.test_get_users_non_admin_forbidden _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('gm@test.com', '$2b$12$OTQvjYB6zUu3QJMXj580VOF0G42rHWPi9ZIIGJqr.kAqIt3H26B6m', 'Test GM', 'gm', True, None, 0, None, UUID('04c01959-0a79-4413-941a-c9ce524fb913'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at teardown of TestUserManagementRoutes.test_get_users_non_admin_forbidden _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at setup of TestUserManagementRoutes.test_update_user_role_admin_success _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('admin@test.com', '$2b$12$MmapCNj2ZFZxEJQTOBlV/eUcjlEZlddxH6Wp9lSfYs6Jsxw1O84ZK', 'Test Admin', 'admin', True, None, 0, None, UUID('bbccd7c7-8f3a-4133-971d-bc89ad23a6e4'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at teardown of TestUserManagementRoutes.test_update_user_role_admin_success _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at setup of TestUserManagementRoutes.test_update_user_role_non_admin_forbidden _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('gm@test.com', '$2b$12$cs92Cn/7lmMPLy.dDr89SODVWc1nff8oR5UuqiwrJzBK.pjQ57NCa', 'Test GM', 'gm', True, None, 0, None, UUID('d8d91de8-89b9-4e0f-aa58-4c05aac16fd8'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at teardown of TestUserManagementRoutes.test_update_user_role_non_admin_forbidden _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at setup of TestUserManagementRoutes.test_update_user_role_invalid_role _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('admin@test.com', '$2b$12$sU08GfhWsQFDHWr4.t6R2OPEl5wXOGoxXbD5dnVkqQ9fEKhBBw.xu', 'Test Admin', 'admin', True, None, 0, None, UUID('20b0bc9a-f459-43f4-a38a-0898d8ee22ff'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at teardown of TestUserManagementRoutes.test_update_user_role_invalid_role _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at setup of TestUserManagementRoutes.test_update_user_role_nonexistent_user _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('admin@test.com', '$2b$12$u4aLFMzpVoWXCFoYXptGq.zAAW.osKfIWIep/ca6zkfQW1BQXX3mW', 'Test Admin', 'admin', True, None, 0, None, UUID('96f3e539-8d79-45ee-8a84-06045c2d4ad3'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at teardown of TestUserManagementRoutes.test_update_user_role_nonexistent_user _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
__ ERROR at setup of TestUserManagementRoutes.test_delete_user_admin_success ___
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('admin@test.com', '$2b$12$whbKWhumjDdxZUMoqhThMOLgA8ow0L8JuW9b9jnjn.jwaobGjS73G', 'Test Admin', 'admin', True, None, 0, None, UUID('e9c44d3b-ebbd-41ef-aba6-390077518418'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at teardown of TestUserManagementRoutes.test_delete_user_admin_success _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at setup of TestUserManagementRoutes.test_delete_user_non_admin_forbidden _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('gm@test.com', '$2b$12$5rWDLNxAqPorlFpmOTMYeOqbR47PHU5NF9Gg9ZxX7.gd.i5Q.jHbW', 'Test GM', 'gm', True, None, 0, None, UUID('0443d04c-1037-49f7-8488-9ac4ee234ea4'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at teardown of TestUserManagementRoutes.test_delete_user_non_admin_forbidden _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at setup of TestUserManagementRoutes.test_delete_user_nonexistent_user _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('admin@test.com', '$2b$12$Bz20RqBEiLoJ4UhOwN0k.e4YKlmZpxrgFDO/SArqwhLo/Tz9/.3zi', 'Test Admin', 'admin', True, None, 0, None, UUID('ad93f111-8989-4771-b7a9-31b8fc90db1d'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at teardown of TestUserManagementRoutes.test_delete_user_nonexistent_user _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
____ ERROR at teardown of TestUserService.test_list_users_returns_all_users ____
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_____ ERROR at setup of TestUserService.test_update_user_role_changes_role _____
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('sample@test.com', '$2b$12$MkWZcwoIMCEO2SlOdfGup.6ZmE7qMRlqqeoOqtiSASK2rgZU05oxq', 'Sample User', 'viewer', True, None, 0, None, UUID('7c0c0a55-9af0-41ba-90ac-01b1aeb243e1'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
___ ERROR at teardown of TestUserService.test_update_user_role_changes_role ____
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at teardown of TestUserService.test_update_user_role_nonexistent_raises_error _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_______ ERROR at setup of TestUserService.test_delete_user_removes_user ________
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('sample@test.com', '$2b$12$3Qv0drQicFdTxxjVaUYG4.Z7PodoOy3e/Ey4zx00CubrpcGqbIvqa', 'Sample User', 'viewer', True, None, 0, None, UUID('89e08314-c8f4-4761-a06c-1072426ce6dc'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
______ ERROR at teardown of TestUserService.test_delete_user_removes_user ______
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at teardown of TestUserService.test_delete_user_nonexistent_raises_error _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
__ ERROR at setup of TestUserService.test_get_user_by_email_case_insensitive ___
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('sample@test.com', '$2b$12$CjjFxAQ151oZvfQQ7M9P8.qryKLWwxtRVj0lXBDL3nq2m6JElfN8a', 'Sample User', 'viewer', True, None, 0, None, UUID('028fdde1-ca87-4188-a82e-bf609c174c60'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at teardown of TestUserService.test_get_user_by_email_case_insensitive _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at teardown of TestUserService.test_get_user_by_email_nonexistent_returns_none _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_______ ERROR at setup of TestAttachmentAPI.test_download_file_not_found _______
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('admin@test.com', '$2b$12$ELVXvao/skkSrHdX/l6Ft.dWwFjPowpX5kORmXvVU3c04lm/M363y', 'Test Admin', 'admin', True, None, 0, None, UUID('3341480b-19af-45e8-adb0-1cb554e18c49'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_____ ERROR at teardown of TestAttachmentAPI.test_download_file_not_found ______
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_____ ERROR at setup of TestAttachmentAPI.test_download_file_invalid_uuid ______
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('admin@test.com', '$2b$12$At2n5TRiHcBVe0u1QQs4UuH6WX.k8mg7n331ZkGJkCroTl1qEUzg.', 'Test Admin', 'admin', True, None, 0, None, UUID('2d1e6f9e-f57d-4d69-9019-f6b7c48d5ca0'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
____ ERROR at teardown of TestAttachmentAPI.test_download_file_invalid_uuid ____
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
______ ERROR at setup of TestAttachmentAPI.test_upload_missing_parent_id _______
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('admin@test.com', '$2b$12$8TB9UY1CNhDNTFCE.h.8yu5.5GGupWFlyjhB5IeCZPTjYaxjxonJe', 'Test Admin', 'admin', True, None, 0, None, UUID('33c19375-3982-4d60-9ebc-0d6778e2b4e8'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_____ ERROR at teardown of TestAttachmentAPI.test_upload_missing_parent_id _____
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
___ ERROR at setup of TestAttachmentAPI.test_upload_nonexistent_proof_point ____
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('admin@test.com', '$2b$12$e80NnM03fGJEo8Kvkf.PYutaWFFWVIoZ9RA5od6FA2pkHF.IgjBkW', 'Test Admin', 'admin', True, None, 0, None, UUID('000cd30e-235a-446b-802b-1d69a105f017'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
__ ERROR at teardown of TestAttachmentAPI.test_upload_nonexistent_proof_point __
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
__________ ERROR at setup of TestAttachmentAPI.test_delete_not_found ___________
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('admin@test.com', '$2b$12$zyXvtmxUP7SfM2XrhGm3UuXjn7ZsPmGdfNLw4bpcecfD0S47d1so.', 'Test Admin', 'admin', True, None, 0, None, UUID('5b29f7ed-847c-4a67-b6f1-d6a888aa238f'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_________ ERROR at teardown of TestAttachmentAPI.test_delete_not_found _________
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
__ ERROR at setup of TestAttachmentServiceIntegration.test_upload_valid_file ___
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('sample@test.com', '$2b$12$AAh0zrOYe.Q4nB1SELcBbetdsgaQc02LPcbwolDeESciZzKghYdlW', 'Sample User', 'viewer', True, None, 0, None, UUID('bfeb4885-9410-4a4b-97f2-935e4b0a24aa'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at teardown of TestAttachmentServiceIntegration.test_upload_valid_file _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at setup of TestAttachmentServiceIntegration.test_upload_file_too_large _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('sample@test.com', '$2b$12$tptWcVFTn2GmDFwe2ACd.ehd0e8VRDWYYB6fYFgS8GEBiVohVTQMm', 'Sample User', 'viewer', True, None, 0, None, UUID('b2452a31-ac37-412f-97ab-3bdfec19c368'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at teardown of TestAttachmentServiceIntegration.test_upload_file_too_large _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at setup of TestAttachmentServiceIntegration.test_upload_invalid_content_type _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('sample@test.com', '$2b$12$4oCsWmTLtzrCElzs80Sm/ekwFW9436fRAZR43BoHJw/JeT9UiLnSG', 'Sample User', 'viewer', True, None, 0, None, UUID('083533a7-993f-45f9-bc8c-74dfce59a582'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at teardown of TestAttachmentServiceIntegration.test_upload_invalid_content_type _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at teardown of TestAttachmentServiceIntegration.test_download_nonexistent_file _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at setup of TestAttachmentServiceIntegration.test_download_existing_file _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('sample@test.com', '$2b$12$edTZ7UsE6mi/z.qKMXOaO.UN7IJkqy42OS6esp2a8i4MgzFY1H2vO', 'Sample User', 'viewer', True, None, 0, None, UUID('32d470bd-44cf-4544-a2de-84e06033c035'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at teardown of TestAttachmentServiceIntegration.test_download_existing_file _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at setup of TestAttachmentServiceIntegration.test_delete_existing_file _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('sample@test.com', '$2b$12$E5TopWU11RozQAwqVLvgieGHKZfutJbhzAJclztXSUfQNQAAcCjZu', 'Sample User', 'viewer', True, None, 0, None, UUID('798a5453-8329-48c7-b69c-3d35973c0f96'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at teardown of TestAttachmentServiceIntegration.test_delete_existing_file _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at setup of TestAttachmentServiceIntegration.test_storage_path_generation _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('sample@test.com', '$2b$12$segwnKFnTUSPAwUyqp2uqeRFTSrrCaQyq/QDkWUzMDjfsK6rr9NyG', 'Sample User', 'viewer', True, None, 0, None, UUID('cda062d3-d436-4f55-96d4-cb5eec94648d'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at teardown of TestAttachmentServiceIntegration.test_storage_path_generation _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
__________ ERROR at setup of TestCanvasAPIAuth.test_get_canvas_admin ___________
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('admin@test.com', '$2b$12$DHLFo0HsHHVdyAq7pV1gauu9GgFHQcm9lZIgwWS1.fZmDluVvpyBy', 'Test Admin', 'admin', True, None, 0, None, UUID('2ef456c0-c787-401d-8cdc-209fabd9d866'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_________ ERROR at teardown of TestCanvasAPIAuth.test_get_canvas_admin _________
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
__________ ERROR at setup of TestCanvasAPIAuth.test_get_canvas_gm_own __________
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('gm@test.com', '$2b$12$ZN4XLKu8YqmOa23UXEdsGOXeGY7xrtzs0G.THRCL.za8AGu7/252G', 'Test GM', 'gm', True, None, 0, None, UUID('6f497717-ffda-4839-832b-6f79ffb8e592'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
________ ERROR at teardown of TestCanvasAPIAuth.test_get_canvas_gm_own _________
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
____ ERROR at setup of TestCanvasAPIAuth.test_get_canvas_gm_other_forbidden ____
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('gm@test.com', '$2b$12$3jZTP5Xie5OVRT2pyCKoVOCZAP4E7oJ3xUllgl1vxsv2FW5dqzjWa', 'Test GM', 'gm', True, None, 0, None, UUID('24b6e2bb-ac2e-4e74-a05e-afd4d804c666'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
__ ERROR at teardown of TestCanvasAPIAuth.test_get_canvas_gm_other_forbidden ___
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
__________ ERROR at setup of TestCanvasAPIAuth.test_get_canvas_viewer __________
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('viewer@test.com', '$2b$12$/EBNsLkGI.1zUvyXGr.jpu4E6gmTNGbGf5/5HYBGuiwru.BdU743u', 'Test Viewer', 'viewer', True, None, 0, None, UUID('db68e070-f467-4f3b-8347-492240112f8a'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
________ ERROR at teardown of TestCanvasAPIAuth.test_get_canvas_viewer _________
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
________ ERROR at setup of TestCanvasAPIAuth.test_update_canvas_gm_own _________
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('gm@test.com', '$2b$12$oW6ECSTmiAfe4k.MXelYZONlX7Voo5zpB9SsaS5iZEkfoWkaQMbA.', 'Test GM', 'gm', True, None, 0, None, UUID('16277036-1ffe-44fa-acee-38780106f252'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_______ ERROR at teardown of TestCanvasAPIAuth.test_update_canvas_gm_own _______
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
___ ERROR at setup of TestCanvasAPIAuth.test_update_canvas_viewer_forbidden ____
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('viewer@test.com', '$2b$12$5seBu4Cm78wJPIaI/lMFF.IIbofknz7rSc/nVdG1JiAoeIKFGfzES', 'Test Viewer', 'viewer', True, None, 0, None, UUID('406cee47-6d8f-4670-bf9b-55768d666968'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
__ ERROR at teardown of TestCanvasAPIAuth.test_update_canvas_viewer_forbidden __
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
____ ERROR at setup of TestCanvasAPINestedData.test_get_canvas_with_theses _____
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('admin@test.com', '$2b$12$Tphoyvx/X3wwSqNIHRb/kOYHwAY9xyWUNlZsd2YgqSurx.lnGv5f6', 'Test Admin', 'admin', True, None, 0, None, UUID('cf075049-6c0a-4ba8-99d4-c28a82024c9d'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
___ ERROR at teardown of TestCanvasAPINestedData.test_get_canvas_with_theses ___
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at setup of TestCanvasAPINestedData.test_get_canvas_with_proof_points __
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('admin@test.com', '$2b$12$Gvvtu6WkziG0366zfn6RfebGGxA.zDIJmzkdJLOhK2Bu2bNpPfSPi', 'Test Admin', 'admin', True, None, 0, None, UUID('bbe1be2b-f421-435b-bb46-070d7b53ab08'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at teardown of TestCanvasAPINestedData.test_get_canvas_with_proof_points _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at setup of TestCanvasAPIValidation.test_update_canvas_invalid_lifecycle_lane _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('admin@test.com', '$2b$12$UrHX70vogswbsnEAQazOReFcnSgj6nz7V7krqrJPEU905xGUCDRF.', 'Test Admin', 'admin', True, None, 0, None, UUID('47fc87b4-24e8-4a4a-a845-73163cdcaedd'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at teardown of TestCanvasAPIValidation.test_update_canvas_invalid_lifecycle_lane _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at setup of TestCanvasAPIValidation.test_update_canvas_empty_product_name _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('admin@test.com', '$2b$12$eTcsJ6LnXmcWgCRY0VI3S.EEezSeWNMOjty5tVPR4YlGz1DdNTMG2', 'Test Admin', 'admin', True, None, 0, None, UUID('f6ad07cb-a0d6-4e7a-b85c-91b53c5f66bf'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at teardown of TestCanvasAPIValidation.test_update_canvas_empty_product_name _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
___ ERROR at setup of TestCanvasAPIValidation.test_get_canvas_vbu_not_found ____
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('admin@test.com', '$2b$12$jc5XJHPeLjAv6n.EhYdGWO7L3pkeEfVoPd9FKQlMlbtOj06zRTgbi', 'Test Admin', 'admin', True, None, 0, None, UUID('0b42dcd2-f2a4-45fb-944c-b2909d029ce0'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
__ ERROR at teardown of TestCanvasAPIValidation.test_get_canvas_vbu_not_found __
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at setup of TestCanvasAPIPortfolioNotes.test_update_portfolio_notes_admin _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('admin@test.com', '$2b$12$jpsdOPYxcRiYqiQ742I5suvAQUDQaizVZr3eFX3noszoaLgauTYIy', 'Test Admin', 'admin', True, None, 0, None, UUID('ea8835cd-7021-49e3-97ee-64d14e1b6aec'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at teardown of TestCanvasAPIPortfolioNotes.test_update_portfolio_notes_admin _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at setup of TestCanvasAPIPortfolioNotes.test_update_portfolio_notes_gm_ignored _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('gm@test.com', '$2b$12$KBs3MXL7eP6ADc6Hki3VxOFaSwsGhWrfnt3tDQgriGjEwJ4lQfqh.', 'Test GM', 'gm', True, None, 0, None, UUID('f276b081-eb30-4454-8f83-323094f4a7fd'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at teardown of TestCanvasAPIPortfolioNotes.test_update_portfolio_notes_gm_ignored _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
____________ ERROR at setup of TestCanvasServiceVBU.test_create_vbu ____________
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('svc-gm@test.com', '$2b$12$CJdUuCi5uOVeuQ9ZOasRo.hTHfPk142Sm3Y.sBzlx0hHGPb5m1R.6', 'Test GM', 'gm', True, None, 0, None, UUID('dc1f8322-ab3b-49fd-a1a8-014cf10a7ee7'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
__________ ERROR at teardown of TestCanvasServiceVBU.test_create_vbu ___________
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
____________ ERROR at setup of TestCanvasServiceVBU.test_update_vbu ____________
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('svc-gm@test.com', '$2b$12$zloqoT/5/u5A2af7gQMb5.fHFjDMJm9J/H7Kaja0RoEb019eapoaW', 'Test GM', 'gm', True, None, 0, None, UUID('f638fa6c-7775-4abc-af2e-18d061a511d8'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
__________ ERROR at teardown of TestCanvasServiceVBU.test_update_vbu ___________
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
____________ ERROR at setup of TestCanvasServiceVBU.test_delete_vbu ____________
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('svc-gm@test.com', '$2b$12$ahb10.4aWZFr.2Uf0Uoa0O1le2yrxk6l4.CuJmEECL8Qnql3CIYZu', 'Test GM', 'gm', True, None, 0, None, UUID('408fd3fe-8d10-4f93-bed5-8f6062f37f8b'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
__________ ERROR at teardown of TestCanvasServiceVBU.test_delete_vbu ___________
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
____________ ERROR at setup of TestCanvasServiceVBU.test_list_vbus _____________
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('svc-gm@test.com', '$2b$12$ambUrG3CPCo47IRq1clry.cduOD3jCom9C24qXM1ndNbwwuR1LvU.', 'Test GM', 'gm', True, None, 0, None, UUID('8ece8438-1865-4916-9f94-eb793db8a315'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
___________ ERROR at teardown of TestCanvasServiceVBU.test_list_vbus ___________
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_______ ERROR at setup of TestCanvasServiceCanvas.test_get_canvas_by_vbu _______
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('svc-gm@test.com', '$2b$12$644mTrGqJZkvoBVfQBNu4OKHXzQP8In.zsV0F8.EtaPw5WSeYuCIu', 'Test GM', 'gm', True, None, 0, None, UUID('ab1cd687-15df-4acc-9a9e-907057e4277d'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_____ ERROR at teardown of TestCanvasServiceCanvas.test_get_canvas_by_vbu ______
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_________ ERROR at setup of TestCanvasServiceCanvas.test_update_canvas _________
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('svc-gm@test.com', '$2b$12$05oJgaLauJb6gCseEDO8TeLczzMsNADIBIOcY4KVFnXJj4bPuSSXu', 'Test GM', 'gm', True, None, 0, None, UUID('3db310c6-8355-46c5-9a44-adf65a6de4f7'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_______ ERROR at teardown of TestCanvasServiceCanvas.test_update_canvas ________
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_________ ERROR at setup of TestCanvasServiceThesis.test_create_thesis _________
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('svc-gm@test.com', '$2b$12$Zc4v94HK6ctu67DMY4/AwOxm2dNrErEGcbXy83cOjVQMruWnGgGYy', 'Test GM', 'gm', True, None, 0, None, UUID('e148ff94-89d3-44da-bebf-369a177d0348'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_______ ERROR at teardown of TestCanvasServiceThesis.test_create_thesis ________
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_________ ERROR at setup of TestCanvasServiceThesis.test_update_thesis _________
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('svc-gm@test.com', '$2b$12$Y9Q.YVSVVjdKZa5ouR/ASuoZFF5catssrVhplix8bRhpjNYgPowBS', 'Test GM', 'gm', True, None, 0, None, UUID('ed3bcc4c-6fd6-4d33-8029-826336c15a38'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_______ ERROR at teardown of TestCanvasServiceThesis.test_update_thesis ________
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_________ ERROR at setup of TestCanvasServiceThesis.test_delete_thesis _________
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('svc-gm@test.com', '$2b$12$hgzB.hNPM6C.ebBYI2FBdue5Np27RzjKlpnmEQYecT5fY3wVDOgIC', 'Test GM', 'gm', True, None, 0, None, UUID('6ad9964a-2ec8-4279-a721-fa52bb71b272'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_______ ERROR at teardown of TestCanvasServiceThesis.test_delete_thesis ________
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
________ ERROR at setup of TestCanvasServiceThesis.test_reorder_theses _________
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('svc-gm@test.com', '$2b$12$A063my0T9IJ3v2idNz4j.e6bAIxqjSRVwn9aSM2VheRSHmDge.rF2', 'Test GM', 'gm', True, None, 0, None, UUID('900cb71b-e6d0-4a82-8a8b-aa8ca7075c3b'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_______ ERROR at teardown of TestCanvasServiceThesis.test_reorder_theses _______
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
____ ERROR at setup of TestCanvasServiceProofPoint.test_create_proof_point _____
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('svc-gm@test.com', '$2b$12$lVe/0sUHvKDGFkvI2n80nuzq58YbHqq8giP9aCWfwr8pQONZ8.q.G', 'Test GM', 'gm', True, None, 0, None, UUID('8034f3f4-8e9e-46a3-bde3-bac440e0d617'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
___ ERROR at teardown of TestCanvasServiceProofPoint.test_create_proof_point ___
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
____ ERROR at setup of TestCanvasServiceProofPoint.test_update_proof_point _____
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('svc-gm@test.com', '$2b$12$CSWtEKEYIvzcSbSXUZGQb..Rw3/6IN4JaqzOY3hQrhg7hiUiD2Nb6', 'Test GM', 'gm', True, None, 0, None, UUID('9266dde1-6a81-44ed-965b-c5ce165c91d3'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
___ ERROR at teardown of TestCanvasServiceProofPoint.test_update_proof_point ___
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
____ ERROR at setup of TestCanvasServiceProofPoint.test_delete_proof_point _____
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('svc-gm@test.com', '$2b$12$1fBn/u5O6WriExnrJoqtRO6nks5fDNTfJdZvBvPyAqhUQBsnzQQ4u', 'Test GM', 'gm', True, None, 0, None, UUID('9d11a3a0-99f0-4d31-a509-fa341ec45a31'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
___ ERROR at teardown of TestCanvasServiceProofPoint.test_delete_proof_point ___
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
______ ERROR at setup of TestProofPointAPI.test_get_proof_points_success _______
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('gm@test.com', '$2b$12$ZFkHf9XrXGzWfMkjydlbTeynmDfoCyS4rIVjev7WXUENnocUt04sK', 'Test GM', 'gm', True, None, 0, None, UUID('cbb8f5aa-6d0b-43cb-8fe9-4402034b7ddc'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_____ ERROR at teardown of TestProofPointAPI.test_get_proof_points_success _____
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
____ ERROR at setup of TestProofPointAPI.test_get_proof_points_unauthorized ____
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('gm@test.com', '$2b$12$HGd0sXMHcyJQomAKNI1o7OBisqL1BteoqGaUeW8ijddg2RvadiIvG', 'Test GM', 'gm', True, None, 0, None, UUID('7a102602-41c5-4df3-be17-61736f37c3db'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
__ ERROR at teardown of TestProofPointAPI.test_get_proof_points_unauthorized ___
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_____ ERROR at setup of TestProofPointAPI.test_create_proof_point_success ______
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('gm@test.com', '$2b$12$2va4Qg/9wqv3BSZjdLsCCeP6iIeO7EW4dtHvvVzO/dpmDCy1HgaGK', 'Test GM', 'gm', True, None, 0, None, UUID('e35d0e15-5824-4777-a216-f9d4b8c97a50'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
____ ERROR at teardown of TestProofPointAPI.test_create_proof_point_success ____
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at setup of TestProofPointAPI.test_create_proof_point_forbidden_viewer _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('viewer@test.com', '$2b$12$cZPVs0UpDJXT/aE7ciqJZe8h7zfv2xnHDrd.0vX.cEZtAfGGWNGQa', 'Test Viewer', 'viewer', True, None, 0, None, UUID('a8b8e389-ca7a-47ff-b0de-6c6400842996'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at teardown of TestProofPointAPI.test_create_proof_point_forbidden_viewer _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at setup of TestProofPointAPI.test_create_proof_point_validation_error _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('gm@test.com', '$2b$12$8HWgQpT8gw2obuu.vnHhRORiaJVwUVVf8v.NyqFXfUL7uKf6y46BG', 'Test GM', 'gm', True, None, 0, None, UUID('617d0298-33cf-4482-b00e-32460e93c41d'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at teardown of TestProofPointAPI.test_create_proof_point_validation_error _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_____ ERROR at setup of TestProofPointAPI.test_update_proof_point_success ______
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('gm@test.com', '$2b$12$hdGN05Q1p2ToBryhH8L8B.E/yJamS1A2yWLSQwGp7SB0UXxwDcLV6', 'Test GM', 'gm', True, None, 0, None, UUID('523122a0-ff14-44d1-84e8-49ed47f9bf7b'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
____ ERROR at teardown of TestProofPointAPI.test_update_proof_point_success ____
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
__ ERROR at setup of TestProofPointAPI.test_update_proof_point_status_change ___
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('gm@test.com', '$2b$12$40a8/gVYL2v92pJW2YZFqOGQkvGhVi6DYCRZ8WqOjvPhmI1CnMIg.', 'Test GM', 'gm', True, None, 0, None, UUID('42fb5e85-82a9-41c9-9dc5-9a62536149c5'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at teardown of TestProofPointAPI.test_update_proof_point_status_change _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at setup of TestProofPointAPI.test_update_proof_point_forbidden_other_gm _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('othergm@test.com', '$2b$12$/SLRpZ0zeEKtLTLV0VP1aOqHjbaJnKCJ3.N1l47kx7dmAkVTWbOiS', 'Other GM', 'gm', True, None, 0, None, UUID('b251fe96-281f-43c6-bd9a-264f2ad4d665'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at teardown of TestProofPointAPI.test_update_proof_point_forbidden_other_gm _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_____ ERROR at setup of TestProofPointAPI.test_delete_proof_point_success ______
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('gm@test.com', '$2b$12$sZiP3DwNFULknwhKzXC1xuf5NaXBn7zE2CkcBBy.UdLsfVtlMTzJS', 'Test GM', 'gm', True, None, 0, None, UUID('ab8546ea-d5b7-4c63-8658-768eb0e2c419'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
____ ERROR at teardown of TestProofPointAPI.test_delete_proof_point_success ____
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
____ ERROR at setup of TestProofPointAPI.test_delete_proof_point_not_found _____
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('gm@test.com', '$2b$12$Dxbw39AO0Eske6aDvxSlLOcoXIlzHdjv3RTJdayNZhea2W6NfIC0u', 'Test GM', 'gm', True, None, 0, None, UUID('a7dfd338-2df4-42c5-b863-33df83b1be07'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
___ ERROR at teardown of TestProofPointAPI.test_delete_proof_point_not_found ___
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
__________ ERROR at setup of TestThesisAPIAuth.test_get_theses_admin ___________
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('admin@test.com', '$2b$12$/I65DPGUhQ8m2hYq/NVAVO.Xge0v8tNZaUevMHCop5gltaeCruRIq', 'Test Admin', 'admin', True, None, 0, None, UUID('00571b70-4423-4f04-9f81-08c1f198b37f'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_________ ERROR at teardown of TestThesisAPIAuth.test_get_theses_admin _________
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
__________ ERROR at setup of TestThesisAPIAuth.test_get_theses_gm_own __________
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('gm@test.com', '$2b$12$3huMOeQfyfex47qCYf89W.3POAmcWAMdZiknBWep6PBnSgJzixoAe', 'Test GM', 'gm', True, None, 0, None, UUID('66e11b94-39f3-4ae5-9784-7d1e3a7794c5'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
________ ERROR at teardown of TestThesisAPIAuth.test_get_theses_gm_own _________
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
____ ERROR at setup of TestThesisAPIAuth.test_get_theses_gm_other_forbidden ____
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('gm@test.com', '$2b$12$fUjlXpH0LUTOYdF26MyA7ehob4Rc1J2YZVZbBexqmOcO0ggZFUQem', 'Test GM', 'gm', True, None, 0, None, UUID('6530a0ca-2b67-46e1-8420-a01893942800'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
__ ERROR at teardown of TestThesisAPIAuth.test_get_theses_gm_other_forbidden ___
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
________ ERROR at setup of TestThesisAPIAuth.test_create_thesis_gm_own _________
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('gm@test.com', '$2b$12$XtWVVh3F0.Zcr/YtnYd9butOH6tz0y/60P8t/jBAr/UPObGBtqRAS', 'Test GM', 'gm', True, None, 0, None, UUID('0c648b1e-58e0-4856-b335-6edd635554da'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_______ ERROR at teardown of TestThesisAPIAuth.test_create_thesis_gm_own _______
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
___ ERROR at setup of TestThesisAPIAuth.test_create_thesis_viewer_forbidden ____
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('viewer@test.com', '$2b$12$OwvCLgCSGAi3LZV6q3n27OQyjDZbmN2kmFP2XMYXR1GEJCDQvi/rW', 'Test Viewer', 'viewer', True, None, 0, None, UUID('1ba07319-7566-4d26-984b-41240d01d9dd'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
__ ERROR at teardown of TestThesisAPIAuth.test_create_thesis_viewer_forbidden __
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
________ ERROR at setup of TestThesisAPIAuth.test_update_thesis_gm_own _________
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('gm@test.com', '$2b$12$LV7o3ZUdVdcbBmT/7oB5QuuYMhjJf7iM9P13EYWZRDPShqzKOQO4S', 'Test GM', 'gm', True, None, 0, None, UUID('d53a4bde-300a-4b70-854e-87ed59daf8ab'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_______ ERROR at teardown of TestThesisAPIAuth.test_update_thesis_gm_own _______
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_________ ERROR at setup of TestThesisAPIAuth.test_delete_thesis_admin _________
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('admin@test.com', '$2b$12$IF9vxkr6gaQkszV4nbW5PuCpAbVoijle9G7M3I7HAsg1xITVkbJXi', 'Test Admin', 'admin', True, None, 0, None, UUID('84c74d07-3cb1-4cb6-949e-dccca230d769'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_______ ERROR at teardown of TestThesisAPIAuth.test_delete_thesis_admin ________
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
___ ERROR at setup of TestThesisAPIValidation.test_create_thesis_empty_text ____
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('admin@test.com', '$2b$12$/lj9B9QbRQj1uLkeMN/3EesFzCfVKUW4mBUmzvwzX40JBbNV9suQ2', 'Test Admin', 'admin', True, None, 0, None, UUID('90ee6abb-427a-4e4e-8544-4d37f042db93'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
__ ERROR at teardown of TestThesisAPIValidation.test_create_thesis_empty_text __
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
__ ERROR at setup of TestThesisAPIValidation.test_create_thesis_invalid_order __
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('admin@test.com', '$2b$12$gOZfMc6KYgIxm69gCB2ajuuUM.0bQtrlRQCkbUsfc7I3EkO0TLlQS', 'Test Admin', 'admin', True, None, 0, None, UUID('a7fad86c-9126-4f6a-9147-9dd12c894e96'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at teardown of TestThesisAPIValidation.test_create_thesis_invalid_order _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at setup of TestThesisAPIValidation.test_create_thesis_duplicate_order _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('admin@test.com', '$2b$12$bb5JAzDGXK7jd5Pk6SoJjejMOcfAEElnXyrF.BuXnhR0QPLU.Q5la', 'Test Admin', 'admin', True, None, 0, None, UUID('10658238-bed0-4ead-82dc-ad68cc3ce5c3'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at teardown of TestThesisAPIValidation.test_create_thesis_duplicate_order _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_______ ERROR at setup of TestThesisAPIValidation.test_thesis_not_found ________
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('admin@test.com', '$2b$12$xKvw8m22M3M/x9g7tysn4OEAJasJ.cYRfAgcAwwDufwz0iD8k9rvS', 'Test Admin', 'admin', True, None, 0, None, UUID('b940a7a1-6fea-4280-b356-476c57dc6cf2'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
______ ERROR at teardown of TestThesisAPIValidation.test_thesis_not_found ______
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
____ ERROR at setup of TestThesisAPIReordering.test_reorder_theses_success _____
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('admin@test.com', '$2b$12$hKKUp7egkLxRR6KOlcSD5ed0917aO8Yf6pzotV3.SrPLSSBPPjB0O', 'Test Admin', 'admin', True, None, 0, None, UUID('415e84c1-073f-4df7-a7b9-d3d431e745e3'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
___ ERROR at teardown of TestThesisAPIReordering.test_reorder_theses_success ___
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at setup of TestThesisAPIReordering.test_reorder_theses_invalid_order __
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('admin@test.com', '$2b$12$W5Nc6t2FyjCQ85gXOylIyurx2J8AJEn6Oas1LcvmvCLb9q8vKPxpy', 'Test Admin', 'admin', True, None, 0, None, UUID('1ecb7951-7a90-457c-8720-6ec47554b21e'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at teardown of TestThesisAPIReordering.test_reorder_theses_invalid_order _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at setup of TestThesisAPIReordering.test_reorder_theses_gm_other_forbidden _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('gm@test.com', '$2b$12$28l.eWgGxBpo6NX5/qkU3u00MPQfiKwa/KxX78v/WJd8BVgsaOfwK', 'Test GM', 'gm', True, None, 0, None, UUID('6ebe6930-f5d2-4e77-977a-a95f87209043'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at teardown of TestThesisAPIReordering.test_reorder_theses_gm_other_forbidden _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
____________ ERROR at setup of TestVBUAPIAuth.test_list_vbus_admin _____________
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('admin@test.com', '$2b$12$M8WhBAU.TiTFgPPaqBcZ9uGlV2IC9ZvjCgnBwqOQdh29q8lkMQoI6', 'Test Admin', 'admin', True, None, 0, None, UUID('b19e4393-6bdf-4fe3-889f-f6458dc4b4c5'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
___________ ERROR at teardown of TestVBUAPIAuth.test_list_vbus_admin ___________
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_________ ERROR at setup of TestVBUAPIAuth.test_list_vbus_gm_filtered __________
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('gm@test.com', '$2b$12$Gajab2CnmxhEarSn5kSoBukYc6pbEgQpj9dzXD3RqrstgYtluEC/i', 'Test GM', 'gm', True, None, 0, None, UUID('df100320-8e56-400c-b3e7-13cf54d49143'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
________ ERROR at teardown of TestVBUAPIAuth.test_list_vbus_gm_filtered ________
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
____________ ERROR at setup of TestVBUAPIAuth.test_list_vbus_viewer ____________
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('viewer@test.com', '$2b$12$Sl1f.tuOGIUgeWDpx4hWXOg9TohUebDLKMafIDj/w9DTAU48nBM1m', 'Test Viewer', 'viewer', True, None, 0, None, UUID('42629504-26e6-4fd6-9f63-498c8867a4fd'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
__________ ERROR at teardown of TestVBUAPIAuth.test_list_vbus_viewer ___________
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
________ ERROR at setup of TestVBUAPIAuth.test_create_vbu_admin_success ________
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('admin@test.com', '$2b$12$7ur1mtONV7UJIolJYVQkBOUUOqH25YXbg7gbKGVA2zeKz68Y7Ijhu', 'Test Admin', 'admin', True, None, 0, None, UUID('c6fac1e7-6084-4307-864a-c73dc535f309'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
______ ERROR at teardown of TestVBUAPIAuth.test_create_vbu_admin_success _______
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
________ ERROR at setup of TestVBUAPIAuth.test_create_vbu_gm_forbidden _________
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('gm@test.com', '$2b$12$pQ/PIW00Hy7mnWKT5zVjeOctlGGeNjA8WpEBQQb/raCs3Xx7U1KfS', 'Test GM', 'gm', True, None, 0, None, UUID('bbb4e7c2-40e0-4683-8d11-166227d204fd'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_______ ERROR at teardown of TestVBUAPIAuth.test_create_vbu_gm_forbidden _______
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
___________ ERROR at setup of TestVBUAPIAuth.test_update_vbu_gm_own ____________
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('gm@test.com', '$2b$12$8d1is4tm/GwkZn.m/XLzruJ0AeQkktSjUL1Kd2kTk1XJRFiyMCSf2', 'Test GM', 'gm', True, None, 0, None, UUID('e81904de-4015-4686-88d4-a15540ff9aa9'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
__________ ERROR at teardown of TestVBUAPIAuth.test_update_vbu_gm_own __________
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_____ ERROR at setup of TestVBUAPIAuth.test_update_vbu_gm_other_forbidden ______
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('gm@test.com', '$2b$12$s9eQOqwfouU/pvssEwlUd.F78sTwmyfE2JOKPQPQKbRKXPF2JbBuq', 'Test GM', 'gm', True, None, 0, None, UUID('bbfbf633-2601-4751-8eaa-cdc7d021ed47'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
____ ERROR at teardown of TestVBUAPIAuth.test_update_vbu_gm_other_forbidden ____
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
________ ERROR at setup of TestVBUAPIAuth.test_delete_vbu_admin_success ________
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('admin@test.com', '$2b$12$BsEw7GbNDD44Y65q56FuU.DZhBSIS7EdEgUalEUUjH2mCXDMwoWZi', 'Test Admin', 'admin', True, None, 0, None, UUID('b536ad3f-15df-4904-b074-4ceae2b269a4'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
______ ERROR at teardown of TestVBUAPIAuth.test_delete_vbu_admin_success _______
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
________ ERROR at setup of TestVBUAPIAuth.test_delete_vbu_gm_forbidden _________
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('gm@test.com', '$2b$12$fWeBCbqRPRB7MU8bh0pFzObG58Fl8rCpj83ekW988.o0Bpjlq01P.', 'Test GM', 'gm', True, None, 0, None, UUID('1020fb99-1681-40e2-8ea7-8ff1a9b5398c'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_______ ERROR at teardown of TestVBUAPIAuth.test_delete_vbu_gm_forbidden _______
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_____ ERROR at setup of TestVBUAPIValidation.test_create_vbu_invalid_name ______
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('admin@test.com', '$2b$12$sHarXj6aFOUA9UXnUsnNauf2xglmikieYjFWFeGQZDvft9JDasNwm', 'Test Admin', 'admin', True, None, 0, None, UUID('57c96b86-610d-44ff-a9e7-2be6abf8a014'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
____ ERROR at teardown of TestVBUAPIValidation.test_create_vbu_invalid_name ____
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_____ ERROR at setup of TestVBUAPIValidation.test_create_vbu_invalid_gm_id _____
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('admin@test.com', '$2b$12$eAWYcrSr1zO069s9ddPVPeacg1h0GSosePAKQfLvOS4V8q3ZAT0bu', 'Test Admin', 'admin', True, None, 0, None, UUID('a5d01cb6-4ac7-4784-9536-d8a7a4f67fcf'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
___ ERROR at teardown of TestVBUAPIValidation.test_create_vbu_invalid_gm_id ____
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
________ ERROR at setup of TestVBUAPIValidation.test_get_vbu_not_found _________
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('admin@test.com', '$2b$12$z93NmtpvLQCGqIq2FI5uRu70b1x3t.x0f0LFbjIjFnlc2M2LX8vUO', 'Test Admin', 'admin', True, None, 0, None, UUID('08e6afe8-1bd0-479f-a351-7161acac195d'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_______ ERROR at teardown of TestVBUAPIValidation.test_get_vbu_not_found _______
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_______ ERROR at setup of TestVBUAPIPagination.test_list_vbus_pagination _______
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('admin@test.com', '$2b$12$y2ZjgqYfDlHbEnk94HmUBe2Kq9J/WB.FVxqITZeJFgyghHKugWO2.', 'Test Admin', 'admin', True, None, 0, None, UUID('3d5d1324-cc98-4718-891d-c9071a86be08'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_____ ERROR at teardown of TestVBUAPIPagination.test_list_vbus_pagination ______
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at setup of TestMonthlyReviewRelationships.test_monthly_review_canvas_relationship _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('gm@test.com', '$2b$12$3wIU2TqjoIFhNto/dLtRl.DDEsHPTDVh.yJxq16oQtP8yQzWPuH72', 'Test GM', 'gm', True, None, 0, None, UUID('dc8394e3-8429-4afe-8837-12ccd5b1471b'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at teardown of TestMonthlyReviewRelationships.test_monthly_review_canvas_relationship _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at setup of TestMonthlyReviewRelationships.test_monthly_review_commitments_cascade_delete _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('gm@test.com', '$2b$12$KWnQEV7yeQ5GH6lhZ0Q1kOEzwKpQflQNqrY01K85vuFNHlLG./On.', 'Test GM', 'gm', True, None, 0, None, UUID('d3d96d80-d925-4770-92de-be99a092e120'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at teardown of TestMonthlyReviewRelationships.test_monthly_review_commitments_cascade_delete _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at setup of TestMonthlyReviewRelationships.test_commitment_monthly_review_relationship _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('gm@test.com', '$2b$12$17WnyRuKmATCmfLdLXq9JutHydGqwi4iv64NqZHTnP6DS.D9T.YBK', 'Test GM', 'gm', True, None, 0, None, UUID('ec4acf18-e32b-403a-a397-80c43c678c0c'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at teardown of TestMonthlyReviewRelationships.test_commitment_monthly_review_relationship _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at setup of TestMonthlyReviewRelationships.test_unique_constraint_canvas_review_date _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('gm@test.com', '$2b$12$dVLWcxsEehbNEA3Bx6AVDu5cBGj1iv4FhLPOs6FkGyiTqx5GSIgY.', 'Test GM', 'gm', True, None, 0, None, UUID('c0fce567-c774-467c-ac1f-ce264b593602'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at teardown of TestMonthlyReviewRelationships.test_unique_constraint_canvas_review_date _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at setup of TestMonthlyReviewRelationships.test_commitment_order_uniqueness_per_review _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('gm@test.com', '$2b$12$zHXD/KgDsSPXPbXcoUFFDuSA4dva5gZ.hTaGj47jCxBxNrSAdfE8W', 'Test GM', 'gm', True, None, 0, None, UUID('e51230e8-8257-41f8-a507-c335f064eb01'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at teardown of TestMonthlyReviewRelationships.test_commitment_order_uniqueness_per_review _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at setup of TestMonthlyReviewRelationships.test_commitment_order_check_constraint _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('gm@test.com', '$2b$12$teML8u4AGjO3E1eLK4PR5.BMa1ua4Hwsczo2y1Pz/77PbXDVcGvtm', 'Test GM', 'gm', True, None, 0, None, UUID('0da916ca-e615-4235-a778-a77ffa2546de'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at teardown of TestMonthlyReviewRelationships.test_commitment_order_check_constraint _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at setup of TestMonthlyReviewRelationships.test_commitment_text_not_null _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('gm@test.com', '$2b$12$JESppYcRn4GEO3YVTAdGHeXVOfxT0VWO8tVCWZRbooJYd1R9h8X4e', 'Test GM', 'gm', True, None, 0, None, UUID('b2bbeb21-3123-49e5-a88d-a436db1b330d'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at teardown of TestMonthlyReviewRelationships.test_commitment_text_not_null _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at setup of TestMonthlyReviewRelationships.test_monthly_review_created_by_foreign_key _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('gm@test.com', '$2b$12$aNm.JxTaU4JwCnCrpDbBWe81zGxaBMo8zSmXH/dSMiFj6lGeNKiZK', 'Test GM', 'gm', True, None, 0, None, UUID('3ea93e1a-40e2-4d19-afd8-72aa1cf30bb9'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at teardown of TestMonthlyReviewRelationships.test_monthly_review_created_by_foreign_key _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at setup of TestReviewAPIIntegration.test_list_reviews_admin_access_all_canvases _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('admin@test.com', '$2b$12$QaO2Qywl86o83n2rgtKV7uHO07m4Ot7IWawqYuDbP.Lp6udLqeVha', 'Test Admin', 'admin', True, None, 0, None, UUID('74207481-2661-4463-ac14-830932e447f1'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at teardown of TestReviewAPIIntegration.test_list_reviews_admin_access_all_canvases _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at setup of TestReviewAPIIntegration.test_list_reviews_gm_access_own_canvas_only _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('gm@test.com', '$2b$12$764h9Jt9SN6BompcZAP3iuMdgIBaTdEJmTtjNMq0jrediQVdqBdBK', 'Test GM', 'gm', True, None, 0, None, UUID('f884321f-076b-468e-96c3-b1eb406d5eb6'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at teardown of TestReviewAPIIntegration.test_list_reviews_gm_access_own_canvas_only _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at setup of TestReviewAPIIntegration.test_list_reviews_viewer_access_all_readonly _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('viewer@test.com', '$2b$12$R7VyQjSYcrBds6rOesEpGOV2L6BlXbiNYyfkvltJq.UYAbd5BAD9m', 'Test Viewer', 'viewer', True, None, 0, None, UUID('603f0173-915e-457f-985b-2a636d7b501e'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at teardown of TestReviewAPIIntegration.test_list_reviews_viewer_access_all_readonly _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at setup of TestReviewAPIIntegration.test_create_review_admin_any_canvas _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('admin@test.com', '$2b$12$EsjUesr9B/1p3zqU2/zziuZU7icA4kUIKctZOZwiinGlunQP.kDJK', 'Test Admin', 'admin', True, None, 0, None, UUID('6d3ec6c4-dd96-4c55-b155-95258a71fd89'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at teardown of TestReviewAPIIntegration.test_create_review_admin_any_canvas _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at setup of TestReviewAPIIntegration.test_create_review_gm_own_canvas_only _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('gm@test.com', '$2b$12$QCgvY8MVwl8lNd43MAnL7uPI6SM7yx.3tS/d3CMtJWyBC3I0hYwZO', 'Test GM', 'gm', True, None, 0, None, UUID('cd476b33-6085-497a-9fd0-22f031b14765'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at teardown of TestReviewAPIIntegration.test_create_review_gm_own_canvas_only _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at setup of TestReviewAPIIntegration.test_create_review_viewer_forbidden _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('viewer@test.com', '$2b$12$jI0O9fbnPkQ0hvJ2q3ySgunfoZPpbfcA/S8TXf1/xUasDWhBr7FRy', 'Test Viewer', 'viewer', True, None, 0, None, UUID('7ecfc18f-e6f7-4041-aba0-d819d29fe92b'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at teardown of TestReviewAPIIntegration.test_create_review_viewer_forbidden _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at setup of TestReviewAPIIntegration.test_get_review_authorization_matrix _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('admin@test.com', '$2b$12$tTKXPJmgVWOgUwyDSdFd8.mHqVnLa.JGAWAx/j5zkk56k.2TbElQW', 'Test Admin', 'admin', True, None, 0, None, UUID('bc204c8e-8af0-4011-8959-0c02aee08a3d'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at teardown of TestReviewAPIIntegration.test_get_review_authorization_matrix _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at setup of TestReviewAPIIntegration.test_unauthorized_access_returns_401 _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('gm@test.com', '$2b$12$bnwT.9V1eixV5.RayIuQQ.rWorP4oynA8.C/aARoWPGipK6d1IkGa', 'Test GM', 'gm', True, None, 0, None, UUID('705b81f9-bfe1-4d7e-8ff5-89698d23b20d'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at teardown of TestReviewAPIIntegration.test_unauthorized_access_returns_401 _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at setup of TestCommitmentValidation.test_create_review_requires_1_to_3_commitments _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('gm@test.com', '$2b$12$ekUyYojpTAu5SLZS4pdSxuTOhQvWaRNTS5aYtwOedXq1yjhMu18g2', 'Test GM', 'gm', True, None, 0, None, UUID('35ddac6d-d7b7-4c4b-9c72-592500a524fd'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at teardown of TestCommitmentValidation.test_create_review_requires_1_to_3_commitments _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at setup of TestCommitmentValidation.test_commitment_text_length_validation _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('gm@test.com', '$2b$12$dNDLUCAenZQKxR56JdDJVeJl1wbKq9BBgllAPqb.307Jh5uiz0jB2', 'Test GM', 'gm', True, None, 0, None, UUID('3c9d8c6b-88d5-47f0-8bff-d0526ca561f5'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at teardown of TestCommitmentValidation.test_commitment_text_length_validation _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at setup of TestCommitmentValidation.test_commitment_order_uniqueness __
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('gm@test.com', '$2b$12$CKgmvvPjMVlm03SESCD/x.HmFmp4kCQUnhV8WNeJqqa0YuBIsBE4C', 'Test GM', 'gm', True, None, 0, None, UUID('826530e0-29fa-4382-8388-6ed90ca96d32'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at teardown of TestCommitmentValidation.test_commitment_order_uniqueness _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at setup of TestCommitmentValidation.test_commitment_order_range_validation _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('gm@test.com', '$2b$12$GGxHFatOCFHftFW8.6PQguKcdbr04e.7rajpUIEV49RmBF7q2KTWS', 'Test GM', 'gm', True, None, 0, None, UUID('e6ceebeb-9c83-4334-bd84-934f1291f5b3'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at teardown of TestCommitmentValidation.test_commitment_order_range_validation _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
____ ERROR at setup of TestCommitmentValidation.test_review_date_not_future ____
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('gm@test.com', '$2b$12$7jKZOjlkqmLmy9z8DzEvOujBGqf3VPg5oPXM6QltXSlhgyPsRj126', 'Test GM', 'gm', True, None, 0, None, UUID('e1147235-1a55-467e-b257-ae2c29586d0b'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
__ ERROR at teardown of TestCommitmentValidation.test_review_date_not_future ___
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at setup of TestCommitmentValidation.test_currently_testing_validation _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('gm@test.com', '$2b$12$0XBHNFmbQqS2SfYMoFDi0eMEJceV.87WzkUay2rYYqr0TwG86iuiG', 'Test GM', 'gm', True, None, 0, None, UUID('aa479c35-6e54-4ab7-8194-16893cbc1100'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at teardown of TestCommitmentValidation.test_currently_testing_validation _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
___ ERROR at setup of TestCommitmentValidation.test_text_field_length_limits ___
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('gm@test.com', '$2b$12$khFWFtakEmPqC1Z/4GzMSu8YCY8ic5Vgfxum542GDMEHviqogN5Da', 'Test GM', 'gm', True, None, 0, None, UUID('8b626408-9eed-478a-a730-6a6c691dc0fa'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at teardown of TestCommitmentValidation.test_text_field_length_limits __
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at setup of TestCommitmentValidation.test_duplicate_review_date_conflict _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('gm@test.com', '$2b$12$DefFFDlGiARDGEg1c1z.6.jvkalAsGk4yBSWX6ehqY.mTP9QnD23q', 'Test GM', 'gm', True, None, 0, None, UUID('747e25e6-c5cc-430a-8694-a69663abf779'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at teardown of TestCommitmentValidation.test_duplicate_review_date_conflict _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at setup of TestReviewServiceIntegration.test_create_review_with_commitments _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('gm@test.com', '$2b$12$cZ0/KR33R16wDl24xBRtSu1XfQMXSdwMpjiZAaOCcJ0uWdfIYIiDa', 'Test GM', 'gm', True, None, 0, None, UUID('e4a76733-16e8-466f-a61a-da7592bf6d0a'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at teardown of TestReviewServiceIntegration.test_create_review_with_commitments _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at setup of TestReviewServiceIntegration.test_list_reviews_ordered_by_date _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('gm@test.com', '$2b$12$Y9ljd/iX..VpbeMRT7W1N.Vn7ml85py2pDzHinRYEDJmYZ3xZLRV6', 'Test GM', 'gm', True, None, 0, None, UUID('51c2861e-ace8-4455-9b5a-a5e74841be93'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at teardown of TestReviewServiceIntegration.test_list_reviews_ordered_by_date _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at setup of TestReviewServiceIntegration.test_create_review_updates_canvas_currently_testing _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('gm@test.com', '$2b$12$DGKNuXPpZ1PqzlzVArADv.eJ4VdJ0zZCxwtnM9ShrJJuoP4tyPQhq', 'Test GM', 'gm', True, None, 0, None, UUID('721a6e3d-f0d1-48ae-82d7-acf999cc6281'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at teardown of TestReviewServiceIntegration.test_create_review_updates_canvas_currently_testing _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at setup of TestReviewServiceIntegration.test_attachment_linking_integration _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('gm@test.com', '$2b$12$d7JjflGQ9MXSqEJ.5aJoZ.Od6.OpsQ.gRpzLJ1Vp8bpZcCi5HGf6e', 'Test GM', 'gm', True, None, 0, None, UUID('a3da7239-7246-463e-9e70-853191655305'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at teardown of TestReviewServiceIntegration.test_attachment_linking_integration _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at setup of TestReviewServiceIntegration.test_validate_currently_testing_belongs_to_canvas _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('gm@test.com', '$2b$12$QjaxfenBSuX80/QQ9aM3jes03O.BBb/tA/jDAwObmEy9I/HPqxP7u', 'Test GM', 'gm', True, None, 0, None, UUID('8bc6abf5-597e-4ea3-81be-05228a352348'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at teardown of TestReviewServiceIntegration.test_validate_currently_testing_belongs_to_canvas _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at setup of TestReviewServiceIntegration.test_get_review_with_relationships _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('gm@test.com', '$2b$12$HRV8TppM7M6fnGZUXzlqDeMpX3PiGCOLEVTCVvIYA/zJTo2vKlq4C', 'Test GM', 'gm', True, None, 0, None, UUID('0b068f13-e92e-4c6d-9169-92067fac724b'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_ ERROR at teardown of TestReviewServiceIntegration.test_get_review_with_relationships _
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_____________ ERROR at teardown of test_session_can_execute_query ______________
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_______________ ERROR at teardown of test_backend_connects_to_db _______________
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
____________ ERROR at setup of test_export_canvas_pdf_success_admin ____________
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('admin@test.com', '$2b$12$bhlJ.JLqaYvEd7BGMLvKm.GJO3k4DHtZTh8dJU5IvYePG6w4qj/t.', 'Test Admin', 'admin', True, None, 0, None, UUID('a88aba5a-5bdd-4a9d-a11d-bb69d2dbabbe'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
__________ ERROR at teardown of test_export_canvas_pdf_success_admin ___________
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_________ ERROR at setup of test_export_canvas_pdf_success_gm_own_vbu __________
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('gm@test.com', '$2b$12$J519AKoQeAsniN2DIf5s..419YtWeftQiAC/8RzDkv9jsYnPChVKS', 'Test GM', 'gm', True, None, 0, None, UUID('9a915b55-4001-439e-9078-a57efc779ae1'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
________ ERROR at teardown of test_export_canvas_pdf_success_gm_own_vbu ________
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_______ ERROR at setup of test_export_canvas_pdf_gm_other_vbu_forbidden ________
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('admin@test.com', '$2b$12$/yUagyimNGbldxO60MU39uj/nqvxmA3BEtNjDF.RBzu5Hcl3mZoJm', 'Test Admin', 'admin', True, None, 0, None, UUID('f6985370-cd45-40dd-93e3-17b95ff2e3cb'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
______ ERROR at teardown of test_export_canvas_pdf_gm_other_vbu_forbidden ______
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
__________ ERROR at setup of test_export_canvas_pdf_viewer_can_export __________
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('admin@test.com', '$2b$12$ARJASpNLj77n5doqXOr.eufbVDrCG38masPvVE.9U.KBviEZGolEi', 'Test Admin', 'admin', True, None, 0, None, UUID('e42f1a9d-81ff-485f-86af-17a6ac7587d9'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
________ ERROR at teardown of test_export_canvas_pdf_viewer_can_export _________
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
____________ ERROR at setup of test_export_canvas_pdf_vbu_not_found ____________
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('admin@test.com', '$2b$12$r9B8IB9Zk1nzWbAhfFazgONUBZF0z4qdAV1agWex73ihVicEt0J76', 'Test Admin', 'admin', True, None, 0, None, UUID('39cbd881-19f7-49fd-9ebb-5822a7cde4b3'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
__________ ERROR at teardown of test_export_canvas_pdf_vbu_not_found ___________
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
______________ ERROR at setup of test_export_canvas_pdf_no_canvas ______________
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('admin@test.com', '$2b$12$sM4XOadiAKs1dmsCh0W45.Le7L//F8SGLf9HHXOygfclHBDdVP9mi', 'Test Admin', 'admin', True, None, 0, None, UUID('aee08604-fedf-4054-959d-7dd7e8d71071'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
____________ ERROR at teardown of test_export_canvas_pdf_no_canvas _____________
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
____________ ERROR at setup of test_export_canvas_pdf_unauthorized _____________
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('admin@test.com', '$2b$12$0gW1VyqNS1jDlIULckV.i.BrFK35rtjavb8CdidAjUC1AcgjlZVqK', 'Test Admin', 'admin', True, None, 0, None, UUID('4d466377-2210-45e1-9832-6b294da33c47'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
___________ ERROR at teardown of test_export_canvas_pdf_unauthorized ___________
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
________ ERROR at setup of test_export_canvas_pdf_filename_sanitization ________
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('admin@test.com', '$2b$12$.9c2APqKhnoKBK./4NRV5.aLdY2i.4QYlmjhruzNJMkek.5IutXWa', 'Test Admin', 'admin', True, None, 0, None, UUID('7b216b43-b6bc-461d-85c7-5001f8999020'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
______ ERROR at teardown of test_export_canvas_pdf_filename_sanitization _______
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
___________ ERROR at setup of test_export_canvas_pdf_content_headers ___________
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('admin@test.com', '$2b$12$TjmHTSDxTQ2lHG8neCUKBOWt7rbhntUr7.l7lGtDHdgTo2712f4cK', 'Test Admin', 'admin', True, None, 0, None, UUID('c270d66f-6c87-416b-a690-093827a403a4'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_________ ERROR at teardown of test_export_canvas_pdf_content_headers __________
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_________ ERROR at setup of test_get_portfolio_summary_admin_sees_all __________
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('admin@test.com', '$2b$12$N88PXk8xMrjzXtt2m6IzD.ADa5ghKAbRXYEAXrumrkcjanz4P2cyi', 'Test Admin', 'admin', True, None, 0, None, UUID('0fc5e046-c02f-4850-89c0-b4eb2535dbcb'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
________ ERROR at teardown of test_get_portfolio_summary_admin_sees_all ________
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
________ ERROR at setup of test_get_portfolio_summary_gm_sees_own_only _________
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('admin@test.com', '$2b$12$pUWWoMIOM8pbSfMAWGiyZeazzZ.StuKuxg2QnibsNYNTUpV3xCv9C', 'Test Admin', 'admin', True, None, 0, None, UUID('1c3e88a9-832d-4ef0-abef-703483f5dbc5'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_______ ERROR at teardown of test_get_portfolio_summary_gm_sees_own_only _______
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
________ ERROR at setup of test_get_portfolio_summary_with_lane_filter _________
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('admin@test.com', '$2b$12$Ej7iA6/wpIjotT1vwihrMuPb5hwvUAyX4tT64DpRROW1OE6Sdgflm', 'Test Admin', 'admin', True, None, 0, None, UUID('779c6d82-910b-433e-ae9f-d3d4fe675a36'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_______ ERROR at teardown of test_get_portfolio_summary_with_lane_filter _______
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_______ ERROR at setup of test_get_portfolio_summary_with_health_filter ________
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('admin@test.com', '$2b$12$44LzkH2ChFT265gjTvCzUu/Sifgg0V4P8ngc06/0xhvhsXwrRpO9G', 'Test Admin', 'admin', True, None, 0, None, UUID('70298d66-17ba-4609-81cc-7639f47726c3'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
______ ERROR at teardown of test_get_portfolio_summary_with_health_filter ______
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_______ ERROR at setup of test_get_portfolio_summary_invalid_lane_filter _______
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('admin@test.com', '$2b$12$NXxhRrQeb7WD2.onb2YbkuoWNNVX3pjbqdqj9DOYvVanu6CnnhwWC', 'Test Admin', 'admin', True, None, 0, None, UUID('a717bca6-52a9-4d1c-9e1f-7c91cf659d61'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_____ ERROR at teardown of test_get_portfolio_summary_invalid_lane_filter ______
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
______ ERROR at setup of test_get_portfolio_summary_invalid_health_filter ______
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('admin@test.com', '$2b$12$.7MnTfSdVnu4TkZiUB1lqeC71NI4CdQVBKIx0TXtySFt/5tfNpqnG', 'Test Admin', 'admin', True, None, 0, None, UUID('d420c048-4a79-4d52-914a-fb794af5f57b'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
____ ERROR at teardown of test_get_portfolio_summary_invalid_health_filter _____
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
______ ERROR at setup of test_get_portfolio_summary_invalid_gm_id_filter _______
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('admin@test.com', '$2b$12$nRB9NivISrsDMucedk4aZeFd24qLUnCKwKPZmXtf1q2VWiyCRx4o.', 'Test Admin', 'admin', True, None, 0, None, UUID('1d7921b0-2944-4cd4-af84-68edc71d3dd0'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_____ ERROR at teardown of test_get_portfolio_summary_invalid_gm_id_filter _____
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
_________ ERROR at setup of test_update_portfolio_notes_admin_success __________
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('admin@test.com', '$2b$12$wY84DadYEZHXkRoKzfTr7.34VqDq8XtVy8ECIXwjoW2Q.9RIpDm8q', 'Test Admin', 'admin', True, None, 0, None, UUID('d24a4ee0-e9e7-451d-9e8f-ca4c84910f29'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
________ ERROR at teardown of test_update_portfolio_notes_admin_success ________
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
__________ ERROR at setup of test_update_portfolio_notes_gm_forbidden __________
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('gm@test.com', '$2b$12$J7nQoF9rA01KLlXrZ/qs8.mnXTRvOZkqgg51e72pdhwBeZEthYHFi', 'Test GM', 'gm', True, None, 0, None, UUID('bd57b60b-6ded-4cd7-874c-44691a86b360'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
________ ERROR at teardown of test_update_portfolio_notes_gm_forbidden _________
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
________ ERROR at setup of test_update_portfolio_notes_viewer_forbidden ________
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('viewer@test.com', '$2b$12$VwxpI1bRVa8h72.Bnoj.MeNChbPaMnuYE9EWG45XBXKOy95dSfFGS', 'Test Viewer', 'viewer', True, None, 0, None, UUID('69b49e91-06e4-412e-907c-32daa9cf09f7'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
______ ERROR at teardown of test_update_portfolio_notes_viewer_forbidden _______
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
____________ ERROR at setup of test_update_portfolio_notes_too_long ____________
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: INSERT INTO users (email, password_hash, name, role, is_active, last_login_at, failed_login_attempts, locked_until, id) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::userrole, $5::BOOLEAN, $6::TIMESTAMP WITH TIME ZONE, $7::INTEGER, $8::TIMESTAMP WITH TIME ZONE, $9::UUID) RETURNING users.created_at, users.updated_at]
    [parameters: ('admin@test.com', '$2b$12$78ah9sdRctAiED4MXQ6ClOBA06lK.lK6v8gwLyaWbDyYyQQqsUSze', 'Test Admin', 'admin', True, None, 0, None, UUID('e5aa7f36-f136-4115-aa6c-e7de84f95401'))]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
__________ ERROR at teardown of test_update_portfolio_notes_too_long ___________
E   asyncpg.exceptions._base.InterfaceError: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.InterfaceError: <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress

The above exception was the direct cause of the following exception:
E   sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
    [SQL: TRUNCATE TABLE "attachments" CASCADE]
    (Background on this error at: https://sqlalche.me/e/20/rvf5)
=================================== FAILURES ===================================
/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py:797: sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py:797: sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py:797: sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py:797: sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py:797: sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py:797: sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py:797: sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py:797: sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py:797: sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py:797: sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py:797: sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py:797: sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py:797: sqlalchemy.exc.InterfaceError: (sqlalchemy.dialects.postgresql.asyncpg.InterfaceError) <class 'asyncpg.exceptions._base.InterfaceError'>: cannot perform operation: another operation is in progress
=============================== warnings summary ===============================
../usr/local/lib/python3.12/site-packages/passlib/utils/__init__.py:854
  /usr/local/lib/python3.12/site-packages/passlib/utils/__init__.py:854: DeprecationWarning: 'crypt' is deprecated and slated for removal in Python 3.13
    from crypt import crypt as _crypt

tests/auth/test_auth_routes_integration.py::TestAuthRoutesIntegration::test_register_user_success
  /app/canvas/auth/schemas.py:14: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class UserResponse(BaseModel):

tests/auth/test_auth_routes_integration.py::TestAuthRoutesIntegration::test_refresh_token_invalid
  /usr/local/lib/python3.12/site-packages/httpx/_client.py:1859: DeprecationWarning: Setting per-request cookies=<...> is being deprecated, because the expected behaviour on cookie persistence is ambiguous. Set cookies directly on the client instance instead.
    return await self.request(

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ============================
FAILED tests/auth/test_auth_routes_integration.py::TestAuthRoutesIntegration::test_login_success
FAILED tests/auth/test_auth_routes_integration.py::TestAuthRoutesIntegration::test_login_invalid_credentials
FAILED tests/auth/test_auth_routes_integration.py::TestAuthRoutesIntegration::test_login_account_locked
FAILED tests/auth/test_auth_routes_integration.py::TestAuthRoutesIntegration::test_refresh_token_success
FAILED tests/auth/test_auth_routes_integration.py::TestAuthRoutesIntegration::test_get_current_user_success
FAILED tests/auth/test_auth_routes_integration.py::TestAuthRoutesIntegration::test_rate_limiting_login
FAILED tests/auth/test_user_service.py::TestUserService::test_list_users_returns_all_users
FAILED tests/auth/test_user_service.py::TestUserService::test_update_user_role_nonexistent_raises_error
FAILED tests/auth/test_user_service.py::TestUserService::test_delete_user_nonexistent_raises_error
FAILED tests/auth/test_user_service.py::TestUserService::test_get_user_by_email_nonexistent_returns_none
FAILED tests/canvas/test_attachment_service_integration.py::TestAttachmentServiceIntegration::test_download_nonexistent_file
FAILED tests/test_db_contract.py::test_session_can_execute_query - sqlalchemy...
FAILED tests/test_docker_integration.py::test_backend_connects_to_db - sqlalc...
ERROR tests/auth/test_auth_routes_integration.py::TestAuthRoutesIntegration::test_register_user_success
ERROR tests/auth/test_auth_routes_integration.py::TestAuthRoutesIntegration::test_register_user_success
ERROR tests/auth/test_auth_routes_integration.py::TestAuthRoutesIntegration::test_register_duplicate_email
ERROR tests/auth/test_auth_routes_integration.py::TestAuthRoutesIntegration::test_register_duplicate_email
ERROR tests/auth/test_auth_routes_integration.py::TestAuthRoutesIntegration::test_register_requires_admin
ERROR tests/auth/test_auth_routes_integration.py::TestAuthRoutesIntegration::test_register_requires_admin
ERROR tests/auth/test_auth_routes_integration.py::TestAuthRoutesIntegration::test_login_success
ERROR tests/auth/test_auth_routes_integration.py::TestAuthRoutesIntegration::test_login_invalid_credentials
ERROR tests/auth/test_auth_routes_integration.py::TestAuthRoutesIntegration::test_login_account_locked
ERROR tests/auth/test_auth_routes_integration.py::TestAuthRoutesIntegration::test_refresh_token_success
ERROR tests/auth/test_auth_routes_integration.py::TestAuthRoutesIntegration::test_refresh_token_invalid
ERROR tests/auth/test_auth_routes_integration.py::TestAuthRoutesIntegration::test_get_current_user_success
ERROR tests/auth/test_auth_routes_integration.py::TestAuthRoutesIntegration::test_get_current_user_invalid_token
ERROR tests/auth/test_auth_routes_integration.py::TestAuthRoutesIntegration::test_rate_limiting_login
ERROR tests/auth/test_user_routes.py::TestUserManagementRoutes::test_get_users_admin_success
ERROR tests/auth/test_user_routes.py::TestUserManagementRoutes::test_get_users_admin_success
ERROR tests/auth/test_user_routes.py::TestUserManagementRoutes::test_get_users_non_admin_forbidden
ERROR tests/auth/test_user_routes.py::TestUserManagementRoutes::test_get_users_non_admin_forbidden
ERROR tests/auth/test_user_routes.py::TestUserManagementRoutes::test_update_user_role_admin_success
ERROR tests/auth/test_user_routes.py::TestUserManagementRoutes::test_update_user_role_admin_success
ERROR tests/auth/test_user_routes.py::TestUserManagementRoutes::test_update_user_role_non_admin_forbidden
ERROR tests/auth/test_user_routes.py::TestUserManagementRoutes::test_update_user_role_non_admin_forbidden
ERROR tests/auth/test_user_routes.py::TestUserManagementRoutes::test_update_user_role_invalid_role
ERROR tests/auth/test_user_routes.py::TestUserManagementRoutes::test_update_user_role_invalid_role
ERROR tests/auth/test_user_routes.py::TestUserManagementRoutes::test_update_user_role_nonexistent_user
ERROR tests/auth/test_user_routes.py::TestUserManagementRoutes::test_update_user_role_nonexistent_user
ERROR tests/auth/test_user_routes.py::TestUserManagementRoutes::test_delete_user_admin_success
ERROR tests/auth/test_user_routes.py::TestUserManagementRoutes::test_delete_user_admin_success
ERROR tests/auth/test_user_routes.py::TestUserManagementRoutes::test_delete_user_non_admin_forbidden
ERROR tests/auth/test_user_routes.py::TestUserManagementRoutes::test_delete_user_non_admin_forbidden
ERROR tests/auth/test_user_routes.py::TestUserManagementRoutes::test_delete_user_nonexistent_user
ERROR tests/auth/test_user_routes.py::TestUserManagementRoutes::test_delete_user_nonexistent_user
ERROR tests/auth/test_user_service.py::TestUserService::test_list_users_returns_all_users
ERROR tests/auth/test_user_service.py::TestUserService::test_update_user_role_changes_role
ERROR tests/auth/test_user_service.py::TestUserService::test_update_user_role_changes_role
ERROR tests/auth/test_user_service.py::TestUserService::test_update_user_role_nonexistent_raises_error
ERROR tests/auth/test_user_service.py::TestUserService::test_delete_user_removes_user
ERROR tests/auth/test_user_service.py::TestUserService::test_delete_user_removes_user
ERROR tests/auth/test_user_service.py::TestUserService::test_delete_user_nonexistent_raises_error
ERROR tests/auth/test_user_service.py::TestUserService::test_get_user_by_email_case_insensitive
ERROR tests/auth/test_user_service.py::TestUserService::test_get_user_by_email_case_insensitive
ERROR tests/auth/test_user_service.py::TestUserService::test_get_user_by_email_nonexistent_returns_none
ERROR tests/canvas/test_attachment_api.py::TestAttachmentAPI::test_download_file_not_found
ERROR tests/canvas/test_attachment_api.py::TestAttachmentAPI::test_download_file_not_found
ERROR tests/canvas/test_attachment_api.py::TestAttachmentAPI::test_download_file_invalid_uuid
ERROR tests/canvas/test_attachment_api.py::TestAttachmentAPI::test_download_file_invalid_uuid
ERROR tests/canvas/test_attachment_api.py::TestAttachmentAPI::test_upload_missing_parent_id
ERROR tests/canvas/test_attachment_api.py::TestAttachmentAPI::test_upload_missing_parent_id
ERROR tests/canvas/test_attachment_api.py::TestAttachmentAPI::test_upload_nonexistent_proof_point
ERROR tests/canvas/test_attachment_api.py::TestAttachmentAPI::test_upload_nonexistent_proof_point
ERROR tests/canvas/test_attachment_api.py::TestAttachmentAPI::test_delete_not_found
ERROR tests/canvas/test_attachment_api.py::TestAttachmentAPI::test_delete_not_found
ERROR tests/canvas/test_attachment_service_integration.py::TestAttachmentServiceIntegration::test_upload_valid_file
ERROR tests/canvas/test_attachment_service_integration.py::TestAttachmentServiceIntegration::test_upload_valid_file
ERROR tests/canvas/test_attachment_service_integration.py::TestAttachmentServiceIntegration::test_upload_file_too_large
ERROR tests/canvas/test_attachment_service_integration.py::TestAttachmentServiceIntegration::test_upload_file_too_large
ERROR tests/canvas/test_attachment_service_integration.py::TestAttachmentServiceIntegration::test_upload_invalid_content_type
ERROR tests/canvas/test_attachment_service_integration.py::TestAttachmentServiceIntegration::test_upload_invalid_content_type
ERROR tests/canvas/test_attachment_service_integration.py::TestAttachmentServiceIntegration::test_download_nonexistent_file
ERROR tests/canvas/test_attachment_service_integration.py::TestAttachmentServiceIntegration::test_download_existing_file
ERROR tests/canvas/test_attachment_service_integration.py::TestAttachmentServiceIntegration::test_download_existing_file
ERROR tests/canvas/test_attachment_service_integration.py::TestAttachmentServiceIntegration::test_delete_existing_file
ERROR tests/canvas/test_attachment_service_integration.py::TestAttachmentServiceIntegration::test_delete_existing_file
ERROR tests/canvas/test_attachment_service_integration.py::TestAttachmentServiceIntegration::test_storage_path_generation
ERROR tests/canvas/test_attachment_service_integration.py::TestAttachmentServiceIntegration::test_storage_path_generation
ERROR tests/canvas/test_canvas_api.py::TestCanvasAPIAuth::test_get_canvas_admin
ERROR tests/canvas/test_canvas_api.py::TestCanvasAPIAuth::test_get_canvas_admin
ERROR tests/canvas/test_canvas_api.py::TestCanvasAPIAuth::test_get_canvas_gm_own
ERROR tests/canvas/test_canvas_api.py::TestCanvasAPIAuth::test_get_canvas_gm_own
ERROR tests/canvas/test_canvas_api.py::TestCanvasAPIAuth::test_get_canvas_gm_other_forbidden
ERROR tests/canvas/test_canvas_api.py::TestCanvasAPIAuth::test_get_canvas_gm_other_forbidden
ERROR tests/canvas/test_canvas_api.py::TestCanvasAPIAuth::test_get_canvas_viewer
ERROR tests/canvas/test_canvas_api.py::TestCanvasAPIAuth::test_get_canvas_viewer
ERROR tests/canvas/test_canvas_api.py::TestCanvasAPIAuth::test_update_canvas_gm_own
ERROR tests/canvas/test_canvas_api.py::TestCanvasAPIAuth::test_update_canvas_gm_own
ERROR tests/canvas/test_canvas_api.py::TestCanvasAPIAuth::test_update_canvas_viewer_forbidden
ERROR tests/canvas/test_canvas_api.py::TestCanvasAPIAuth::test_update_canvas_viewer_forbidden
ERROR tests/canvas/test_canvas_api.py::TestCanvasAPINestedData::test_get_canvas_with_theses
ERROR tests/canvas/test_canvas_api.py::TestCanvasAPINestedData::test_get_canvas_with_theses
ERROR tests/canvas/test_canvas_api.py::TestCanvasAPINestedData::test_get_canvas_with_proof_points
ERROR tests/canvas/test_canvas_api.py::TestCanvasAPINestedData::test_get_canvas_with_proof_points
ERROR tests/canvas/test_canvas_api.py::TestCanvasAPIValidation::test_update_canvas_invalid_lifecycle_lane
ERROR tests/canvas/test_canvas_api.py::TestCanvasAPIValidation::test_update_canvas_invalid_lifecycle_lane
ERROR tests/canvas/test_canvas_api.py::TestCanvasAPIValidation::test_update_canvas_empty_product_name
ERROR tests/canvas/test_canvas_api.py::TestCanvasAPIValidation::test_update_canvas_empty_product_name
ERROR tests/canvas/test_canvas_api.py::TestCanvasAPIValidation::test_get_canvas_vbu_not_found
ERROR tests/canvas/test_canvas_api.py::TestCanvasAPIValidation::test_get_canvas_vbu_not_found
ERROR tests/canvas/test_canvas_api.py::TestCanvasAPIPortfolioNotes::test_update_portfolio_notes_admin
ERROR tests/canvas/test_canvas_api.py::TestCanvasAPIPortfolioNotes::test_update_portfolio_notes_admin
ERROR tests/canvas/test_canvas_api.py::TestCanvasAPIPortfolioNotes::test_update_portfolio_notes_gm_ignored
ERROR tests/canvas/test_canvas_api.py::TestCanvasAPIPortfolioNotes::test_update_portfolio_notes_gm_ignored
ERROR tests/canvas/test_canvas_service_integration.py::TestCanvasServiceVBU::test_create_vbu
ERROR tests/canvas/test_canvas_service_integration.py::TestCanvasServiceVBU::test_create_vbu
ERROR tests/canvas/test_canvas_service_integration.py::TestCanvasServiceVBU::test_update_vbu
ERROR tests/canvas/test_canvas_service_integration.py::TestCanvasServiceVBU::test_update_vbu
ERROR tests/canvas/test_canvas_service_integration.py::TestCanvasServiceVBU::test_delete_vbu
ERROR tests/canvas/test_canvas_service_integration.py::TestCanvasServiceVBU::test_delete_vbu
ERROR tests/canvas/test_canvas_service_integration.py::TestCanvasServiceVBU::test_list_vbus
ERROR tests/canvas/test_canvas_service_integration.py::TestCanvasServiceVBU::test_list_vbus
ERROR tests/canvas/test_canvas_service_integration.py::TestCanvasServiceCanvas::test_get_canvas_by_vbu
ERROR tests/canvas/test_canvas_service_integration.py::TestCanvasServiceCanvas::test_get_canvas_by_vbu
ERROR tests/canvas/test_canvas_service_integration.py::TestCanvasServiceCanvas::test_update_canvas
ERROR tests/canvas/test_canvas_service_integration.py::TestCanvasServiceCanvas::test_update_canvas
ERROR tests/canvas/test_canvas_service_integration.py::TestCanvasServiceThesis::test_create_thesis
ERROR tests/canvas/test_canvas_service_integration.py::TestCanvasServiceThesis::test_create_thesis
ERROR tests/canvas/test_canvas_service_integration.py::TestCanvasServiceThesis::test_update_thesis
ERROR tests/canvas/test_canvas_service_integration.py::TestCanvasServiceThesis::test_update_thesis
ERROR tests/canvas/test_canvas_service_integration.py::TestCanvasServiceThesis::test_delete_thesis
ERROR tests/canvas/test_canvas_service_integration.py::TestCanvasServiceThesis::test_delete_thesis
ERROR tests/canvas/test_canvas_service_integration.py::TestCanvasServiceThesis::test_reorder_theses
ERROR tests/canvas/test_canvas_service_integration.py::TestCanvasServiceThesis::test_reorder_theses
ERROR tests/canvas/test_canvas_service_integration.py::TestCanvasServiceProofPoint::test_create_proof_point
ERROR tests/canvas/test_canvas_service_integration.py::TestCanvasServiceProofPoint::test_create_proof_point
ERROR tests/canvas/test_canvas_service_integration.py::TestCanvasServiceProofPoint::test_update_proof_point
ERROR tests/canvas/test_canvas_service_integration.py::TestCanvasServiceProofPoint::test_update_proof_point
ERROR tests/canvas/test_canvas_service_integration.py::TestCanvasServiceProofPoint::test_delete_proof_point
ERROR tests/canvas/test_canvas_service_integration.py::TestCanvasServiceProofPoint::test_delete_proof_point
ERROR tests/canvas/test_proof_point_api.py::TestProofPointAPI::test_get_proof_points_success
ERROR tests/canvas/test_proof_point_api.py::TestProofPointAPI::test_get_proof_points_success
ERROR tests/canvas/test_proof_point_api.py::TestProofPointAPI::test_get_proof_points_unauthorized
ERROR tests/canvas/test_proof_point_api.py::TestProofPointAPI::test_get_proof_points_unauthorized
ERROR tests/canvas/test_proof_point_api.py::TestProofPointAPI::test_create_proof_point_success
ERROR tests/canvas/test_proof_point_api.py::TestProofPointAPI::test_create_proof_point_success
ERROR tests/canvas/test_proof_point_api.py::TestProofPointAPI::test_create_proof_point_forbidden_viewer
ERROR tests/canvas/test_proof_point_api.py::TestProofPointAPI::test_create_proof_point_forbidden_viewer
ERROR tests/canvas/test_proof_point_api.py::TestProofPointAPI::test_create_proof_point_validation_error
ERROR tests/canvas/test_proof_point_api.py::TestProofPointAPI::test_create_proof_point_validation_error
ERROR tests/canvas/test_proof_point_api.py::TestProofPointAPI::test_update_proof_point_success
ERROR tests/canvas/test_proof_point_api.py::TestProofPointAPI::test_update_proof_point_success
ERROR tests/canvas/test_proof_point_api.py::TestProofPointAPI::test_update_proof_point_status_change
ERROR tests/canvas/test_proof_point_api.py::TestProofPointAPI::test_update_proof_point_status_change
ERROR tests/canvas/test_proof_point_api.py::TestProofPointAPI::test_update_proof_point_forbidden_other_gm
ERROR tests/canvas/test_proof_point_api.py::TestProofPointAPI::test_update_proof_point_forbidden_other_gm
ERROR tests/canvas/test_proof_point_api.py::TestProofPointAPI::test_delete_proof_point_success
ERROR tests/canvas/test_proof_point_api.py::TestProofPointAPI::test_delete_proof_point_success
ERROR tests/canvas/test_proof_point_api.py::TestProofPointAPI::test_delete_proof_point_not_found
ERROR tests/canvas/test_proof_point_api.py::TestProofPointAPI::test_delete_proof_point_not_found
ERROR tests/canvas/test_thesis_api.py::TestThesisAPIAuth::test_get_theses_admin
ERROR tests/canvas/test_thesis_api.py::TestThesisAPIAuth::test_get_theses_admin
ERROR tests/canvas/test_thesis_api.py::TestThesisAPIAuth::test_get_theses_gm_own
ERROR tests/canvas/test_thesis_api.py::TestThesisAPIAuth::test_get_theses_gm_own
ERROR tests/canvas/test_thesis_api.py::TestThesisAPIAuth::test_get_theses_gm_other_forbidden
ERROR tests/canvas/test_thesis_api.py::TestThesisAPIAuth::test_get_theses_gm_other_forbidden
ERROR tests/canvas/test_thesis_api.py::TestThesisAPIAuth::test_create_thesis_gm_own
ERROR tests/canvas/test_thesis_api.py::TestThesisAPIAuth::test_create_thesis_gm_own
ERROR tests/canvas/test_thesis_api.py::TestThesisAPIAuth::test_create_thesis_viewer_forbidden
ERROR tests/canvas/test_thesis_api.py::TestThesisAPIAuth::test_create_thesis_viewer_forbidden
ERROR tests/canvas/test_thesis_api.py::TestThesisAPIAuth::test_update_thesis_gm_own
ERROR tests/canvas/test_thesis_api.py::TestThesisAPIAuth::test_update_thesis_gm_own
ERROR tests/canvas/test_thesis_api.py::TestThesisAPIAuth::test_delete_thesis_admin
ERROR tests/canvas/test_thesis_api.py::TestThesisAPIAuth::test_delete_thesis_admin
ERROR tests/canvas/test_thesis_api.py::TestThesisAPIValidation::test_create_thesis_empty_text
ERROR tests/canvas/test_thesis_api.py::TestThesisAPIValidation::test_create_thesis_empty_text
ERROR tests/canvas/test_thesis_api.py::TestThesisAPIValidation::test_create_thesis_invalid_order
ERROR tests/canvas/test_thesis_api.py::TestThesisAPIValidation::test_create_thesis_invalid_order
ERROR tests/canvas/test_thesis_api.py::TestThesisAPIValidation::test_create_thesis_duplicate_order
ERROR tests/canvas/test_thesis_api.py::TestThesisAPIValidation::test_create_thesis_duplicate_order
ERROR tests/canvas/test_thesis_api.py::TestThesisAPIValidation::test_thesis_not_found
ERROR tests/canvas/test_thesis_api.py::TestThesisAPIValidation::test_thesis_not_found
ERROR tests/canvas/test_thesis_api.py::TestThesisAPIReordering::test_reorder_theses_success
ERROR tests/canvas/test_thesis_api.py::TestThesisAPIReordering::test_reorder_theses_success
ERROR tests/canvas/test_thesis_api.py::TestThesisAPIReordering::test_reorder_theses_invalid_order
ERROR tests/canvas/test_thesis_api.py::TestThesisAPIReordering::test_reorder_theses_invalid_order
ERROR tests/canvas/test_thesis_api.py::TestThesisAPIReordering::test_reorder_theses_gm_other_forbidden
ERROR tests/canvas/test_thesis_api.py::TestThesisAPIReordering::test_reorder_theses_gm_other_forbidden
ERROR tests/canvas/test_vbu_api.py::TestVBUAPIAuth::test_list_vbus_admin - sq...
ERROR tests/canvas/test_vbu_api.py::TestVBUAPIAuth::test_list_vbus_admin - sq...
ERROR tests/canvas/test_vbu_api.py::TestVBUAPIAuth::test_list_vbus_gm_filtered
ERROR tests/canvas/test_vbu_api.py::TestVBUAPIAuth::test_list_vbus_gm_filtered
ERROR tests/canvas/test_vbu_api.py::TestVBUAPIAuth::test_list_vbus_viewer - s...
ERROR tests/canvas/test_vbu_api.py::TestVBUAPIAuth::test_list_vbus_viewer - s...
ERROR tests/canvas/test_vbu_api.py::TestVBUAPIAuth::test_create_vbu_admin_success
ERROR tests/canvas/test_vbu_api.py::TestVBUAPIAuth::test_create_vbu_admin_success
ERROR tests/canvas/test_vbu_api.py::TestVBUAPIAuth::test_create_vbu_gm_forbidden
ERROR tests/canvas/test_vbu_api.py::TestVBUAPIAuth::test_create_vbu_gm_forbidden
ERROR tests/canvas/test_vbu_api.py::TestVBUAPIAuth::test_update_vbu_gm_own - ...
ERROR tests/canvas/test_vbu_api.py::TestVBUAPIAuth::test_update_vbu_gm_own - ...
ERROR tests/canvas/test_vbu_api.py::TestVBUAPIAuth::test_update_vbu_gm_other_forbidden
ERROR tests/canvas/test_vbu_api.py::TestVBUAPIAuth::test_update_vbu_gm_other_forbidden
ERROR tests/canvas/test_vbu_api.py::TestVBUAPIAuth::test_delete_vbu_admin_success
ERROR tests/canvas/test_vbu_api.py::TestVBUAPIAuth::test_delete_vbu_admin_success
ERROR tests/canvas/test_vbu_api.py::TestVBUAPIAuth::test_delete_vbu_gm_forbidden
ERROR tests/canvas/test_vbu_api.py::TestVBUAPIAuth::test_delete_vbu_gm_forbidden
ERROR tests/canvas/test_vbu_api.py::TestVBUAPIValidation::test_create_vbu_invalid_name
ERROR tests/canvas/test_vbu_api.py::TestVBUAPIValidation::test_create_vbu_invalid_name
ERROR tests/canvas/test_vbu_api.py::TestVBUAPIValidation::test_create_vbu_invalid_gm_id
ERROR tests/canvas/test_vbu_api.py::TestVBUAPIValidation::test_create_vbu_invalid_gm_id
ERROR tests/canvas/test_vbu_api.py::TestVBUAPIValidation::test_get_vbu_not_found
ERROR tests/canvas/test_vbu_api.py::TestVBUAPIValidation::test_get_vbu_not_found
ERROR tests/canvas/test_vbu_api.py::TestVBUAPIPagination::test_list_vbus_pagination
ERROR tests/canvas/test_vbu_api.py::TestVBUAPIPagination::test_list_vbus_pagination
ERROR tests/models/test_monthly_review_relationships.py::TestMonthlyReviewRelationships::test_monthly_review_canvas_relationship
ERROR tests/models/test_monthly_review_relationships.py::TestMonthlyReviewRelationships::test_monthly_review_canvas_relationship
ERROR tests/models/test_monthly_review_relationships.py::TestMonthlyReviewRelationships::test_monthly_review_commitments_cascade_delete
ERROR tests/models/test_monthly_review_relationships.py::TestMonthlyReviewRelationships::test_monthly_review_commitments_cascade_delete
ERROR tests/models/test_monthly_review_relationships.py::TestMonthlyReviewRelationships::test_commitment_monthly_review_relationship
ERROR tests/models/test_monthly_review_relationships.py::TestMonthlyReviewRelationships::test_commitment_monthly_review_relationship
ERROR tests/models/test_monthly_review_relationships.py::TestMonthlyReviewRelationships::test_unique_constraint_canvas_review_date
ERROR tests/models/test_monthly_review_relationships.py::TestMonthlyReviewRelationships::test_unique_constraint_canvas_review_date
ERROR tests/models/test_monthly_review_relationships.py::TestMonthlyReviewRelationships::test_commitment_order_uniqueness_per_review
ERROR tests/models/test_monthly_review_relationships.py::TestMonthlyReviewRelationships::test_commitment_order_uniqueness_per_review
ERROR tests/models/test_monthly_review_relationships.py::TestMonthlyReviewRelationships::test_commitment_order_check_constraint
ERROR tests/models/test_monthly_review_relationships.py::TestMonthlyReviewRelationships::test_commitment_order_check_constraint
ERROR tests/models/test_monthly_review_relationships.py::TestMonthlyReviewRelationships::test_commitment_text_not_null
ERROR tests/models/test_monthly_review_relationships.py::TestMonthlyReviewRelationships::test_commitment_text_not_null
ERROR tests/models/test_monthly_review_relationships.py::TestMonthlyReviewRelationships::test_monthly_review_created_by_foreign_key
ERROR tests/models/test_monthly_review_relationships.py::TestMonthlyReviewRelationships::test_monthly_review_created_by_foreign_key
ERROR tests/reviews/test_api_integration.py::TestReviewAPIIntegration::test_list_reviews_admin_access_all_canvases
ERROR tests/reviews/test_api_integration.py::TestReviewAPIIntegration::test_list_reviews_admin_access_all_canvases
ERROR tests/reviews/test_api_integration.py::TestReviewAPIIntegration::test_list_reviews_gm_access_own_canvas_only
ERROR tests/reviews/test_api_integration.py::TestReviewAPIIntegration::test_list_reviews_gm_access_own_canvas_only
ERROR tests/reviews/test_api_integration.py::TestReviewAPIIntegration::test_list_reviews_viewer_access_all_readonly
ERROR tests/reviews/test_api_integration.py::TestReviewAPIIntegration::test_list_reviews_viewer_access_all_readonly
ERROR tests/reviews/test_api_integration.py::TestReviewAPIIntegration::test_create_review_admin_any_canvas
ERROR tests/reviews/test_api_integration.py::TestReviewAPIIntegration::test_create_review_admin_any_canvas
ERROR tests/reviews/test_api_integration.py::TestReviewAPIIntegration::test_create_review_gm_own_canvas_only
ERROR tests/reviews/test_api_integration.py::TestReviewAPIIntegration::test_create_review_gm_own_canvas_only
ERROR tests/reviews/test_api_integration.py::TestReviewAPIIntegration::test_create_review_viewer_forbidden
ERROR tests/reviews/test_api_integration.py::TestReviewAPIIntegration::test_create_review_viewer_forbidden
ERROR tests/reviews/test_api_integration.py::TestReviewAPIIntegration::test_get_review_authorization_matrix
ERROR tests/reviews/test_api_integration.py::TestReviewAPIIntegration::test_get_review_authorization_matrix
ERROR tests/reviews/test_api_integration.py::TestReviewAPIIntegration::test_unauthorized_access_returns_401
ERROR tests/reviews/test_api_integration.py::TestReviewAPIIntegration::test_unauthorized_access_returns_401
ERROR tests/reviews/test_commitment_validation.py::TestCommitmentValidation::test_create_review_requires_1_to_3_commitments
ERROR tests/reviews/test_commitment_validation.py::TestCommitmentValidation::test_create_review_requires_1_to_3_commitments
ERROR tests/reviews/test_commitment_validation.py::TestCommitmentValidation::test_commitment_text_length_validation
ERROR tests/reviews/test_commitment_validation.py::TestCommitmentValidation::test_commitment_text_length_validation
ERROR tests/reviews/test_commitment_validation.py::TestCommitmentValidation::test_commitment_order_uniqueness
ERROR tests/reviews/test_commitment_validation.py::TestCommitmentValidation::test_commitment_order_uniqueness
ERROR tests/reviews/test_commitment_validation.py::TestCommitmentValidation::test_commitment_order_range_validation
ERROR tests/reviews/test_commitment_validation.py::TestCommitmentValidation::test_commitment_order_range_validation
ERROR tests/reviews/test_commitment_validation.py::TestCommitmentValidation::test_review_date_not_future
ERROR tests/reviews/test_commitment_validation.py::TestCommitmentValidation::test_review_date_not_future
ERROR tests/reviews/test_commitment_validation.py::TestCommitmentValidation::test_currently_testing_validation
ERROR tests/reviews/test_commitment_validation.py::TestCommitmentValidation::test_currently_testing_validation
ERROR tests/reviews/test_commitment_validation.py::TestCommitmentValidation::test_text_field_length_limits
ERROR tests/reviews/test_commitment_validation.py::TestCommitmentValidation::test_text_field_length_limits
ERROR tests/reviews/test_commitment_validation.py::TestCommitmentValidation::test_duplicate_review_date_conflict
ERROR tests/reviews/test_commitment_validation.py::TestCommitmentValidation::test_duplicate_review_date_conflict
ERROR tests/reviews/test_service_integration.py::TestReviewServiceIntegration::test_create_review_with_commitments
ERROR tests/reviews/test_service_integration.py::TestReviewServiceIntegration::test_create_review_with_commitments
ERROR tests/reviews/test_service_integration.py::TestReviewServiceIntegration::test_list_reviews_ordered_by_date
ERROR tests/reviews/test_service_integration.py::TestReviewServiceIntegration::test_list_reviews_ordered_by_date
ERROR tests/reviews/test_service_integration.py::TestReviewServiceIntegration::test_create_review_updates_canvas_currently_testing
ERROR tests/reviews/test_service_integration.py::TestReviewServiceIntegration::test_create_review_updates_canvas_currently_testing
ERROR tests/reviews/test_service_integration.py::TestReviewServiceIntegration::test_attachment_linking_integration
ERROR tests/reviews/test_service_integration.py::TestReviewServiceIntegration::test_attachment_linking_integration
ERROR tests/reviews/test_service_integration.py::TestReviewServiceIntegration::test_validate_currently_testing_belongs_to_canvas
ERROR tests/reviews/test_service_integration.py::TestReviewServiceIntegration::test_validate_currently_testing_belongs_to_canvas
ERROR tests/reviews/test_service_integration.py::TestReviewServiceIntegration::test_get_review_with_relationships
ERROR tests/reviews/test_service_integration.py::TestReviewServiceIntegration::test_get_review_with_relationships
ERROR tests/test_db_contract.py::test_session_can_execute_query - sqlalchemy....
ERROR tests/test_docker_integration.py::test_backend_connects_to_db - sqlalch...
ERROR tests/test_pdf_routes.py::test_export_canvas_pdf_success_admin - sqlalc...
ERROR tests/test_pdf_routes.py::test_export_canvas_pdf_success_admin - sqlalc...
ERROR tests/test_pdf_routes.py::test_export_canvas_pdf_success_gm_own_vbu - s...
ERROR tests/test_pdf_routes.py::test_export_canvas_pdf_success_gm_own_vbu - s...
ERROR tests/test_pdf_routes.py::test_export_canvas_pdf_gm_other_vbu_forbidden
ERROR tests/test_pdf_routes.py::test_export_canvas_pdf_gm_other_vbu_forbidden
ERROR tests/test_pdf_routes.py::test_export_canvas_pdf_viewer_can_export - sq...
ERROR tests/test_pdf_routes.py::test_export_canvas_pdf_viewer_can_export - sq...
ERROR tests/test_pdf_routes.py::test_export_canvas_pdf_vbu_not_found - sqlalc...
ERROR tests/test_pdf_routes.py::test_export_canvas_pdf_vbu_not_found - sqlalc...
ERROR tests/test_pdf_routes.py::test_export_canvas_pdf_no_canvas - sqlalchemy...
ERROR tests/test_pdf_routes.py::test_export_canvas_pdf_no_canvas - sqlalchemy...
ERROR tests/test_pdf_routes.py::test_export_canvas_pdf_unauthorized - sqlalch...
ERROR tests/test_pdf_routes.py::test_export_canvas_pdf_unauthorized - sqlalch...
ERROR tests/test_pdf_routes.py::test_export_canvas_pdf_filename_sanitization
ERROR tests/test_pdf_routes.py::test_export_canvas_pdf_filename_sanitization
ERROR tests/test_pdf_routes.py::test_export_canvas_pdf_content_headers - sqla...
ERROR tests/test_pdf_routes.py::test_export_canvas_pdf_content_headers - sqla...
ERROR tests/test_portfolio_routes.py::test_get_portfolio_summary_admin_sees_all
ERROR tests/test_portfolio_routes.py::test_get_portfolio_summary_admin_sees_all
ERROR tests/test_portfolio_routes.py::test_get_portfolio_summary_gm_sees_own_only
ERROR tests/test_portfolio_routes.py::test_get_portfolio_summary_gm_sees_own_only
ERROR tests/test_portfolio_routes.py::test_get_portfolio_summary_with_lane_filter
ERROR tests/test_portfolio_routes.py::test_get_portfolio_summary_with_lane_filter
ERROR tests/test_portfolio_routes.py::test_get_portfolio_summary_with_health_filter
ERROR tests/test_portfolio_routes.py::test_get_portfolio_summary_with_health_filter
ERROR tests/test_portfolio_routes.py::test_get_portfolio_summary_invalid_lane_filter
ERROR tests/test_portfolio_routes.py::test_get_portfolio_summary_invalid_lane_filter
ERROR tests/test_portfolio_routes.py::test_get_portfolio_summary_invalid_health_filter
ERROR tests/test_portfolio_routes.py::test_get_portfolio_summary_invalid_health_filter
ERROR tests/test_portfolio_routes.py::test_get_portfolio_summary_invalid_gm_id_filter
ERROR tests/test_portfolio_routes.py::test_get_portfolio_summary_invalid_gm_id_filter
ERROR tests/test_portfolio_routes.py::test_update_portfolio_notes_admin_success
ERROR tests/test_portfolio_routes.py::test_update_portfolio_notes_admin_success
ERROR tests/test_portfolio_routes.py::test_update_portfolio_notes_gm_forbidden
ERROR tests/test_portfolio_routes.py::test_update_portfolio_notes_gm_forbidden
ERROR tests/test_portfolio_routes.py::test_update_portfolio_notes_viewer_forbidden
ERROR tests/test_portfolio_routes.py::test_update_portfolio_notes_viewer_forbidden
ERROR tests/test_portfolio_routes.py::test_update_portfolio_notes_too_long - ...
ERROR tests/test_portfolio_routes.py::test_update_portfolio_notes_too_long - ...
=========== 13 failed, 110 passed, 3 warnings, 293 errors in 28.95s ============
