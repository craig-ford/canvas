# specs/004-monthly-review/tasks/T-018.md

## Task: End-to-End Integration

## Type
implementation

## Context
- **Phase**: Phase 6 - UI
- **Builds on**: T-015 (ReviewWizard Component), T-016 (ReviewHistory Component), T-017 (Auto-save and File Upload)
- **Blocks**: None (final task)
- **Requirements**: FR-006

## Predecessors

### Cross-Feature
| Feature | File | Task | Import Statement |
|---------|------|------|------------------|
| 002-canvas-management | frontend/src/canvas/CanvasPage.tsx | 002-canvas-management/T-015 | `import ReviewHistory from '../reviews/ReviewHistory'` |

### Within Feature
| Task | File | What This Task Imports |
|------|------|------------------------|
| T-015 | frontend/src/reviews/ReviewWizard.tsx | ReviewWizard component for routing |
| T-016 | frontend/src/reviews/ReviewHistory.tsx | ReviewHistory component for canvas integration |
| T-017 | frontend/src/reviews/ReviewWizard.tsx | Auto-save and file upload functionality |

## Scope
- **MODIFY**: `frontend/src/App.tsx`
- **MODIFY**: `frontend/src/canvas/CanvasPage.tsx`
- **CREATE**: `frontend/src/reviews/index.ts`

## Contract
```typescript
// App.tsx route addition
<Route path="/vbus/:id/review/new" element={<ReviewWizard />} />

// CanvasPage.tsx integration
function CanvasPage(): JSX.Element {
  // Existing canvas content...
  
  return (
    <div className="space-y-8">
      {/* Existing canvas sections */}
      <ReviewHistory canvasId={canvasId} />
    </div>
  );
}

// reviews/index.ts exports
export { default as ReviewWizard } from './ReviewWizard';
export { default as ReviewHistory } from './ReviewHistory';
```

## Logic
1. Add ReviewWizard route to App.tsx routing table
2. Import ReviewHistory component in CanvasPage.tsx
3. Add ReviewHistory section to canvas page layout
4. Create reviews/index.ts barrel export file
5. Add "Start Review" button to canvas page header
6. Ensure proper navigation between wizard and canvas
7. Test complete workflow: canvas → wizard → submit → back to canvas
8. Verify review appears in history after creation

## Verification
- [ ] Route navigation works from canvas to wizard
- [ ] ReviewHistory displays on canvas page
- [ ] "Start Review" button navigates correctly
- [ ] Wizard submission redirects to canvas
- [ ] New review appears in history immediately
- [ ] All imports resolve without error
- [ ] No console errors in browser

## LOC Estimate
~25 lines