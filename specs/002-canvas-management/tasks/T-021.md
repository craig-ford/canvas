# specs/002-canvas-management/tasks/T-021.md

## Task: FileUpload Component

## Type
implementation

## Context
- **Phase**: Phase 6 - UI
- **Builds on**: None
- **Blocks**: T-022 (VBU Canvas Page)

## Predecessors

### Cross-Feature
| Feature | File | Task | Import Statement |
|---------|------|------|------------------|

### Within Feature
| Task | File | What This Task Imports |
|------|------|------------------------|

## Scope
- **CREATE**: `frontend/src/components/FileUpload.tsx`

## Contract
```typescript
interface Attachment {
  id: string;
  filename: string;
  content_type: string;
  size_bytes: number;
  label?: string;
  uploaded_by: string;
  created_at: string;
}

interface FileUploadProps {
  onUpload: (file: File, label?: string) => Promise<void>;
  attachments: Attachment[];
  onDelete: (id: string) => Promise<void>;
  maxSize: number;
  allowedTypes: string[];
}

const FileUpload: React.FC<FileUploadProps> = ({ onUpload, attachments, onDelete, maxSize, allowedTypes }) => {
  // Drag & drop file upload with progress indication
  // File validation and error handling
  // Attachment list with download/delete actions
};
```

## Logic
1. Import React hooks and utilities
2. Define FileUpload component with drag-and-drop zone
3. Implement file validation (size, type)
4. Handle file upload with progress indication
5. Render attachment list with download/delete actions
6. Handle drag events and visual feedback

## Verification
- [ ] Drag and drop functionality works
- [ ] File validation enforces size and type limits
- [ ] Upload progress indication displays
- [ ] Attachment list shows with download/delete
- [ ] Error handling for invalid files
- [ ] TypeScript types are complete

## LOC Estimate
~120 lines