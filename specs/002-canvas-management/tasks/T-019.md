# specs/002-canvas-management/tasks/T-019.md

## Task: InlineEdit Component

## Type
implementation

## Context
- **Phase**: Phase 6 (UI)
- **Builds on**: None
- **Blocks**: T-022 (VBU Canvas Page)
- **Requirements**: FR-007

## Predecessors

### Cross-Feature
| Feature | File | Task | Import Statement |
|---------|------|------|------------------|

### Within Feature
| Task | File | What This Task Imports |
|------|------|------------------------|

## Scope
- **CREATE**: `frontend/src/components/InlineEdit.tsx`

## Contract
```typescript
interface InlineEditProps {
  value: string;
  onSave: (value: string) => Promise<void>;
  multiline?: boolean;
  placeholder?: string;
  readonly?: boolean;
}

const InlineEdit: React.FC<InlineEditProps> = ({ value, onSave, multiline, placeholder, readonly }) => {
  // Click to edit mode with visual state change
  // 2 second autosave delay after typing stops
  // ESC cancels edit, Enter saves single-line
  // Visual feedback: saving/saved/error states
  // Network error handling with retry
  ...
}
```

## Logic
1. Import React hooks (useState, useEffect, useRef, useCallback)
2. Define state: isEditing, currentValue, saveStatus, error
3. Implement click-to-edit behavior with visual state
4. Add 2-second debounced autosave using useEffect
5. Handle ESC (cancel) and Enter (save single-line) key events
6. Show save status with icons (saving/saved/error)
7. Handle readonly mode by disabling editing
8. Support multiline with textarea vs input element
9. Add error handling with retry mechanism
10. Apply Tailwind styling for edit states

## Verification
- [ ] Component renders with correct initial value
- [ ] Click activates edit mode with visual feedback
- [ ] Typing triggers 2-second autosave delay
- [ ] ESC cancels edit and reverts value
- [ ] Enter saves single-line fields
- [ ] Save status shows saving/saved/error states
- [ ] Readonly mode prevents editing
- [ ] Multiline prop uses textarea element
- [ ] Error handling shows retry options
- [ ] TypeScript types are complete

## LOC Estimate
~80 lines