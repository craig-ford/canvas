# specs/003-portfolio-dashboard/tasks/T-002.md

## Task: PDF Service Contract Tests

## Type
contract-test

## Context
- **Phase**: Phase 1: Contracts & Interfaces
- **Builds on**: None
- **Blocks**: T-006 (PDFService implementation), T-008 (PDF export endpoint integration tests)

## Predecessors

### Cross-Feature
| Feature | File | Task | Import Statement |
|---------|------|------|------------------|
| 002-canvas-management | backend/canvas/models/canvas.py | 002-canvas-management/T-003 | `from canvas.models.canvas import Canvas` |

### Within Feature
| Task | File | What This Task Imports |
|------|------|------------------------|
| None | None | None |

## Scope
- **CREATE**: `backend/canvas/pdf/test_service.py`

## Contract
```python
class PDFService:
    async def export_canvas(self, canvas_id: UUID) -> bytes:
        """Export canvas as PDF with proper styling.
        
        Args:
            canvas_id: UUID of canvas to export
            
        Returns:
            PDF file content as bytes
            
        Raises:
            CanvasNotFoundError: If canvas doesn't exist
            PDFGenerationError: If PDF creation fails
        """
        ...
```

## Logic
1. Import test dependencies (pytest, UUID, mock Canvas data)
2. Define PDFService interface contract
3. Test export_canvas method signature and return type
4. Test error handling for non-existent canvas
5. Test PDF generation failure scenarios
6. Verify PDF content is valid bytes

## Verification
- [ ] Imports resolve without error
- [ ] Type hints complete
- [ ] Tests pass
- [ ] Contract defines exact method signature from Herald decisions

## LOC Estimate
~80 lines