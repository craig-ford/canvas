# specs/003-portfolio-dashboard/tasks/T-013.md

## Task: Health Indicator Component Tests

## Type
unit-test

## Context
- **Phase**: Phase 2 - Test Infrastructure
- **Builds on**: None
- **Blocks**: T-018 (Health Indicator Implementation)
- **Requirements**: FR-001, FR-002

## Predecessors

### Cross-Feature
| Feature | File | Task | Import Statement |
|---------|------|------|------------------|

### Within Feature
| Task | File | What This Task Imports |
|------|------|------------------------|
| None | None | None |

## Scope
- **CREATE**: `frontend/src/dashboard/HealthIndicator.test.tsx`

## Contract
```typescript
// Test suite for HealthIndicator component
describe('HealthIndicator', () => {
  test('renders "Not Started" status with correct styling', () => {
    // Render component with status="Not Started"
    // Assert gray background and text colors
    // Assert correct icon and label
    // Assert screen reader text
  });

  test('renders "In Progress" status with correct styling', () => {
    // Render component with status="In Progress"
    // Assert teal background and text colors
    // Assert correct icon and label
    // Assert screen reader text
  });

  test('renders "On Track" status with correct styling', () => {
    // Render component with status="On Track"
    // Assert green background and text colors
    // Assert correct icon and label
    // Assert screen reader text
  });

  test('renders "At Risk" status with correct styling', () => {
    // Render component with status="At Risk"
    // Assert yellow background and text colors
    // Assert correct icon and label
    // Assert screen reader text
  });

  test('falls back to "Not Started" for invalid status', () => {
    // Render component with invalid status
    // Assert defaults to "Not Started" styling
    // Assert correct fallback behavior
  });

  test('has proper accessibility attributes', () => {
    // Render component with any status
    // Assert span has aria-label with full status text
    // Assert screen reader only text is present
    // Assert proper semantic structure
  });

  test('applies correct CSS classes for each status', () => {
    // Test each status value
    // Assert correct Tailwind classes are applied
    // Assert consistent badge styling
  });
});
```

## Logic
1. Import React Testing Library utilities
2. Test each health status with correct visual styling
3. Test icon and color mapping for all status values
4. Test accessibility attributes and screen reader support
5. Test fallback behavior for invalid status values
6. Test CSS class application for Tailwind styling
7. Verify semantic HTML structure and ARIA labels

## Verification
- [ ] All test methods contain assertions
- [ ] Tests cover all four health status values
- [ ] Tests verify fallback behavior for invalid input
- [ ] Tests check accessibility attributes
- [ ] Tests validate CSS class application
- [ ] Tests ensure proper icon and color mapping

## LOC Estimate
~100 lines