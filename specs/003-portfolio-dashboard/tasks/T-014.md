# specs/003-portfolio-dashboard/tasks/T-014.md

## Task: Dashboard Page Implementation

## Type
implementation

## Context
- **Phase**: Phase 6 - UI
- **Builds on**: T-009 (Dashboard Page Component Tests)
- **Blocks**: None
- **Requirements**: FR-005

## Predecessors

### Cross-Feature
| Feature | File | Task | Import Statement |
|---------|------|------|------------------|
| 001-auth | frontend/src/auth/useAuth.ts | 001-auth/T-017 | `import { useAuth } from '../auth/useAuth'` |
| 002-canvas-management | frontend/src/canvas/CanvasPage.tsx | 002-canvas-management/T-022 | `import { CanvasPage } from '../canvas/CanvasPage'` |

### Within Feature
| Task | File | What This Task Imports |
|------|------|------------------------|
| T-009 | frontend/src/dashboard/__tests__/DashboardPage.test.tsx | Test contracts for component behavior |

## Scope
- **CREATE**: `frontend/src/dashboard/DashboardPage.tsx`
- **CREATE**: `frontend/src/dashboard/hooks/usePortfolio.ts`
- **MODIFY**: `frontend/src/canvas/CanvasPage.tsx`
- **MODIFY**: `frontend/src/App.tsx`

## Contract
```typescript
interface FilterState {
  lanes: string[]
  gmIds: string[]
  healthStatuses: string[]
}

interface VBUSummary {
  id: string
  name: string
  gm_name: string
  lifecycle_lane: string
  success_description?: string
  currently_testing?: string
  next_review_date?: string
  primary_constraint?: string
  health_indicator: string
  portfolio_notes?: string
}

const DashboardPage: React.FC = () => {
  // Responsive layout with Tailwind breakpoints
  // Loading/empty/error states
  // Filter integration with URL params
  // VBU table with data
  // Portfolio notes for admin
}

const usePortfolio = (filters: FilterState) => {
  // API integration with filters
  // Loading and error states
  // Data refetch on filter changes
}
```

## Logic
1. Create FilterState interface for multi-select filters
2. Create VBUSummary interface matching API response
3. Implement usePortfolio hook with API integration
4. Build responsive layout with Tailwind classes
5. Add loading state with skeleton components
6. Add empty state with clear filters action
7. Add error state with retry functionality
8. Integrate DashboardFilters component
9. Integrate VBUTable component
10. Integrate PortfolioNotes for admin users
11. Add proper ARIA labels and semantic HTML
12. Sync filters with URL parameters
13. Wire DashboardPage into App.tsx: import DashboardPage from './dashboard/DashboardPage', add `<Route path="/dashboard" element={<DashboardPage />} />` to the routing table, set as default authenticated route

## Verification
- [ ] Component renders without errors
- [ ] Responsive breakpoints work correctly
- [ ] Loading/empty/error states display
- [ ] Filter changes trigger API calls
- [ ] Admin-only features hidden for non-admin
- [ ] Accessibility attributes present

## LOC Estimate
~180 lines