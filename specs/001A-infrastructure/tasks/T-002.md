# specs/001A-infrastructure/tasks/T-002.md

## Task: Config Contract Tests

## Type
contract-test

## Context
- **Phase**: Contracts & Interfaces
- **Builds on**: None
- **Blocks**: T-006 (Backend Core Implementation)

## Predecessors

### Cross-Feature
| Feature | File | Task | Import Statement |
|---------|------|------|------------------|

### Within Feature
| Task | File | What This Task Imports |
|------|------|------------------------|

## Scope
- **CREATE**: `backend/tests/test_config_contract.py`

## Contract
```python
class Settings(BaseSettings):
    """Pydantic Settings loading all environment variables with CANVAS_ prefix"""
    database_url: str
    cors_origins: list[str]
    log_level: str = "INFO"
    secret_key: str
    
    class Config:
        env_prefix = "CANVAS_"
        case_sensitive = False
```

## Logic
1. Create test_config_contract.py with Settings class interface tests
2. Test Settings class inherits from BaseSettings
3. Test all required environment variables are defined as fields
4. Test env_prefix is "CANVAS_"
5. Test case_sensitive is False
6. Test database_url field is required string type
7. Test cors_origins field is list[str] type
8. Test log_level has default value "INFO"
9. Test secret_key field is required string type

## Verification
- [ ] test_settings_inherits_base_settings() asserts correct inheritance
- [ ] test_settings_has_database_url() asserts field exists with str type
- [ ] test_settings_has_cors_origins() asserts field exists with list[str] type
- [ ] test_settings_has_log_level_default() asserts field has "INFO" default
- [ ] test_settings_has_secret_key() asserts field exists with str type
- [ ] test_settings_env_prefix() asserts Config.env_prefix is "CANVAS_"
- [ ] test_settings_case_insensitive() asserts Config.case_sensitive is False

## LOC Estimate
~35 lines