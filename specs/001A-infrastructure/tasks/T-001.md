# specs/001A-infrastructure/tasks/T-001.md

## Task: Base Model Contract Tests

## Type
contract-test

## Context
- **Phase**: Contracts & Interfaces
- **Builds on**: None
- **Blocks**: T-006 (Backend Core Implementation)

## Predecessors

### Cross-Feature
| Feature | File | Task | Import Statement |
|---------|------|------|------------------|

### Within Feature
| Task | File | What This Task Imports |
|------|------|------------------------|

## Scope
- **CREATE**: `backend/tests/test_models_contract.py`
- **CREATE**: `backend/tests/test_responses_contract.py`

## Contract
```python
# TimestampMixin interface
class TimestampMixin:
    id: UUID  # Primary key, default uuid4
    created_at: datetime  # Server default now()
    updated_at: datetime  # Server default now(), on update now()

# Response envelope interfaces
def success_response(data: Any, status_code: int = 200) -> dict:
    """Returns {"data": data, "meta": {"timestamp": "..."}}"""
    ...

def list_response(data: list, total: int, page: int = 1, per_page: int = 25) -> dict:
    """Returns {"data": data, "meta": {"total": total, "page": page, "per_page": per_page, "timestamp": "..."}}"""
    ...
```

## Logic
1. Create test_models_contract.py with TimestampMixin interface tests
2. Test UUID primary key field exists and has correct type
3. Test created_at and updated_at fields exist with datetime type
4. Create test_responses_contract.py with response envelope tests
5. Test success_response returns correct structure with data and meta.timestamp
6. Test list_response returns correct structure with pagination meta
7. Test timestamp format is ISO 8601 with timezone

## Verification
- [ ] test_timestamp_mixin_has_id_field() asserts UUID field exists
- [ ] test_timestamp_mixin_has_timestamps() asserts datetime fields exist
- [ ] test_success_response_structure() asserts correct envelope format
- [ ] test_list_response_structure() asserts correct pagination format
- [ ] test_response_timestamp_format() asserts ISO 8601 format

## LOC Estimate
~40 lines