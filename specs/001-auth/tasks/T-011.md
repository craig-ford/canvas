# specs/001-auth/tasks/T-011.md

## Task: User Model Implementation

## Type
implementation

## Context
- **Phase**: Phase 3 - Data Layer
- **Builds on**: T-008 (User Model Unit Tests)
- **Blocks**: T-012 (Database Migration)

## Predecessors

### Cross-Feature
| Feature | File | Task | Import Statement |
|---------|------|------|------------------|
| 001A-infrastructure | backend/canvas/models/__init__.py | 001A-infrastructure/T-006 | `from canvas.models import Base, TimestampMixin` |

### Within Feature
| Task | File | What This Task Imports |
|------|------|------------------------|
| T-008 | backend/tests/test_user_model.py | User model test requirements |

## Scope
- **MODIFY**: `backend/canvas/models/user.py`

## Contract
```python
from enum import Enum
from sqlalchemy import Column, String, Enum as SQLEnum
from canvas.models import Base, TimestampMixin

class UserRole(str, Enum):
    ADMIN = "admin"
    GM = "gm"
    VIEWER = "viewer"

class User(Base, TimestampMixin):
    __tablename__ = "users"
    
    email = Column(String(255), unique=True, nullable=False, index=True)
    password_hash = Column(String(255), nullable=False)
    name = Column(String(255), nullable=False)
    role = Column(SQLEnum(UserRole), nullable=False, default=UserRole.VIEWER)
```

## Logic
1. Import Base and TimestampMixin from canvas.models.__init__
2. Define UserRole enum with string values: admin, gm, viewer
3. Define User class inheriting from Base and TimestampMixin
4. Set __tablename__ = "users" (plural per 001A convention)
5. Define email column with unique constraint and index
6. Define password_hash column as required string
7. Define name column as required string
8. Define role column with UserRole enum, default VIEWER

## Verification
- [ ] User class inherits from Base and TimestampMixin
- [ ] UserRole enum has correct string values
- [ ] Table name is "users" (plural)
- [ ] Email has unique constraint and index
- [ ] All required fields are nullable=False

## LOC Estimate
~20 lines